INFO 2025-09-05 22:47:56,772 basehttp 98904 6131478528 "GET /api/auth/magic-link/Lf4IoaaU_L4gY-Y9C2s4bMrYmMlKgSrELkAXDDjHWtE/ HTTP/1.1" 200 495
INFO 2025-09-05 22:47:56,796 basehttp 98904 6131478528 "GET /api/auth/magic-link/Lf4IoaaU_L4gY-Y9C2s4bMrYmMlKgSrELkAXDDjHWtE/ HTTP/1.1" 200 495
INFO 2025-09-05 22:49:00,714 basehttp 98904 6131478528 "OPTIONS /api/auth/login/ HTTP/1.1" 200 0
INFO 2025-09-05 22:49:00,720 serializers 98904 6131478528 Login attempt for: ralfgrugo4567@gmail.com
INFO 2025-09-05 22:49:00,870 serializers 98904 6131478528 Username auth result: False
INFO 2025-09-05 22:49:00,873 serializers 98904 6131478528 Found user by email: bro.ralfgrugo45671, password hash: pbkdf2_sha256$600000$jfPS4QLaMPPuXecU1v4EAB$gvV3nS...
INFO 2025-09-05 22:49:00,991 serializers 98904 6131478528 Email auth result: True
INFO 2025-09-05 22:49:00,991 views 98904 6131478528 User login: bro.ralfgrugo45671, password hash: pbkdf2_sha256$600000$jfPS4QLaMPPuXecU1v4EAB$gvV3nS...
INFO 2025-09-05 22:49:01,011 basehttp 98904 6131478528 "POST /api/auth/login/ HTTP/1.1" 200 1100
INFO 2025-09-05 22:49:01,297 basehttp 98904 6131478528 "OPTIONS /api/chat/conversations/ HTTP/1.1" 200 0
INFO 2025-09-05 22:49:01,301 basehttp 98904 6148304896 "OPTIONS /api/chat/folders/ HTTP/1.1" 200 0
INFO 2025-09-05 22:49:01,302 basehttp 98904 6165131264 "OPTIONS /api/chat/conversations/ HTTP/1.1" 200 0
INFO 2025-09-05 22:49:01,307 basehttp 98904 6181957632 "OPTIONS /api/chat/folders/ HTTP/1.1" 200 0
INFO 2025-09-05 22:49:01,330 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:49:01,342 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:49:01,352 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:49:01,353 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:09,026 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:09,028 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:09,149 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:09,151 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:10,823 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:10,824 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:10,835 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:10,835 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:11,528 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:11,529 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:11,539 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:11,542 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,290 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,293 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,311 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,311 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,960 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,961 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,975 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,976 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:13,563 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:13,564 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:13,578 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:13,582 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:27,349 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:27,349 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:27,362 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:27,367 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:29,974 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:29,974 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:29,985 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:29,986 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:36,338 basehttp 98904 6131478528 "OPTIONS /api/auth/profile/ HTTP/1.1" 200 0
INFO 2025-09-05 22:50:36,340 basehttp 98904 6181957632 "OPTIONS /api/auth/client-info/ HTTP/1.1" 200 0
INFO 2025-09-05 22:50:36,345 basehttp 98904 6148304896 "OPTIONS /api/auth/profile/ HTTP/1.1" 200 0
INFO 2025-09-05 22:50:36,347 basehttp 98904 6165131264 "OPTIONS /api/auth/client-info/ HTTP/1.1" 200 0
INFO 2025-09-05 22:50:36,365 basehttp 98904 6131478528 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:50:36,369 basehttp 98904 6181957632 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:50:36,379 basehttp 98904 6165131264 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:50:36,382 basehttp 98904 6131478528 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:50:45,569 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:45,575 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:45,590 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:45,591 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:12,763 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:12,764 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:12,776 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:12,776 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:16,367 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:16,370 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:16,383 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:16,385 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:52:38,963 basehttp 98904 6131478528 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:52:38,967 basehttp 98904 6181957632 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:52:38,972 basehttp 98904 6165131264 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:52:38,976 basehttp 98904 6131478528 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:52:55,699 basehttp 98904 6131478528 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:52:55,701 basehttp 98904 6165131264 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:52:55,709 basehttp 98904 6181957632 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:52:55,714 basehttp 98904 6148304896 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:20,484 basehttp 98904 6181957632 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:20,486 basehttp 98904 6148304896 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:20,511 basehttp 98904 6131478528 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:20,511 basehttp 98904 6165131264 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:22,307 basehttp 98904 6165131264 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:22,311 basehttp 98904 6131478528 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:22,319 basehttp 98904 6148304896 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:22,326 basehttp 98904 6165131264 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:23,193 basehttp 98904 6165131264 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:23,199 basehttp 98904 6148304896 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:23,221 basehttp 98904 6131478528 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:23,223 basehttp 98904 6165131264 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:44,866 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:53:44,866 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:53:44,881 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:53:44,885 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:34,116 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:34,121 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:34,131 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:34,137 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,005 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,009 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,028 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,029 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,787 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,792 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,802 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,802 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:44,712 basehttp 98904 6165131264 "POST /api/chat/conversations/ HTTP/1.1" 201 323
INFO 2025-09-05 22:56:44,718 basehttp 98904 6131478528 "OPTIONS /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 0
INFO 2025-09-05 22:56:44,730 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 325
INFO 2025-09-05 22:56:44,740 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:44,746 basehttp 98904 6165131264 "OPTIONS /api/chat/stream/ HTTP/1.1" 200 0
INFO 2025-09-05 22:56:44,762 views 98904 6165131264 ChatStreamView POST called by user: bro.ralfgrugo45671 (bro bro)
INFO 2025-09-05 22:56:44,763 views 98904 6165131264 Request data: {'message': 'test', 'conversation_id': '3d8996b5-771b-42d1-8071-5c00b71a56a8'}
INFO 2025-09-05 22:56:44,767 views 98904 6165131264 Serializer validated data: OrderedDict({'message': 'test', 'conversation_id': UUID('3d8996b5-771b-42d1-8071-5c00b71a56a8')})
INFO 2025-09-05 22:56:44,767 views 98904 6165131264 Starting generate_stream function
INFO 2025-09-05 22:56:44,767 views 98904 6165131264 About to call process_chat_message_stream
ERROR 2025-09-05 22:56:44,789 services 98904 6165131264 ASK DATA ==========================: {'question': [{'message_type': 'user', 'content': 'test'}], 'user_info': {'id': 1, 'company_name': '', 'owner_name': '', 'state': '', 'city': '', 'year_started': 2000, 'trucks_count': 5, 'monthly_revenue': '0-250k', 'gross_profit_margin': '50.00', 'main_services': ['Junk Removal (Residential)', 'Bin Rental', 'Light Demolition', 'Junk Removal (Commercial)', 'Trailer Rental', 'Recycling Services'], 'pricing_model': 'by_weight', 'software_tools': ['CRM Software', 'GPS Tracking', 'Route Optimization', 'Inventory Management', 'Booking System', 'Accounting Software', 'Customer Management', 'Mobile Apps'], 'current_challenges': 'How to retain employees?'}}
ERROR 2025-09-05 22:56:45,499 services 98904 6165131264 RAG API streaming request failed: 422 Client Error: Unprocessable Entity for url: https://farmonrag.omadligrouphq.com/ask-question/
INFO 2025-09-05 22:56:45,505 views 98904 6165131264 Stream completed with 1 chunks
INFO 2025-09-05 22:56:45,506 basehttp 98904 6165131264 "POST /api/chat/stream/ HTTP/1.1" 200 508
INFO 2025-09-05 22:56:50,397 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:07,465 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:16,465 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:17,480 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:18,447 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:24,029 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:57:24,035 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 22:57:24,041 basehttp 98904 6165131264 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:24,048 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:57:24,056 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 22:57:28,536 basehttp 98904 6181957632 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:29,452 basehttp 98904 6181957632 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:37,044 basehttp 98904 6130905088 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:37,311 basehttp 98904 6147731456 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:57:37,323 basehttp 98904 6130905088 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 22:57:37,345 basehttp 98904 6147731456 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:57:37,353 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 22:57:41,973 basehttp 98904 6165131264 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:05:26,228 autoreload 98904 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:05:26,712 autoreload 27195 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:05:58,121 basehttp 27195 6128840704 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:05:58,134 basehttp 27195 6128840704 - Broken pipe from ('127.0.0.1', 60429)
INFO 2025-09-05 23:05:58,310 basehttp 27195 6145667072 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:05:58,314 basehttp 27195 6128840704 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:05:58,334 basehttp 27195 6145667072 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:05:58,341 basehttp 27195 6162493440 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:00,944 basehttp 27195 6162493440 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:00,947 basehttp 27195 6145667072 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:00,973 basehttp 27195 6162493440 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:00,974 basehttp 27195 6128840704 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:46,012 basehttp 27195 6162493440 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:46,021 basehttp 27195 6128840704 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:46,030 basehttp 27195 6145667072 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:46,039 basehttp 27195 6162493440 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:47,614 basehttp 27195 6145667072 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:47,617 basehttp 27195 6162493440 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:47,626 basehttp 27195 6128840704 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:47,630 basehttp 27195 6145667072 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:52,908 basehttp 27195 6145667072 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:07:05,750 basehttp 27195 6145667072 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:07:25,052 basehttp 27195 6145667072 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:07:52,205 basehttp 27195 6145667072 - Broken pipe from ('127.0.0.1', 60450)
INFO 2025-09-05 23:07:52,367 basehttp 27195 6162493440 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:07:52,369 basehttp 27195 6128840704 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:07:52,376 basehttp 27195 6162493440 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:07:52,384 basehttp 27195 6145667072 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:08:45,816 autoreload 27195 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/serializers.py changed, reloading.
INFO 2025-09-05 23:08:46,149 autoreload 27962 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:09:05,782 autoreload 27962 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/views.py changed, reloading.
INFO 2025-09-05 23:09:06,218 autoreload 28076 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:09:23,921 autoreload 28076 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/views.py changed, reloading.
INFO 2025-09-05 23:09:24,426 autoreload 28149 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:09:58,345 basehttp 28149 6220066816 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:09:58,391 basehttp 28149 6203240448 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:09:58,404 basehttp 28149 6237466624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:09:58,413 basehttp 28149 6220066816 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:11:20,736 basehttp 28149 6237466624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:11:20,741 basehttp 28149 6220066816 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:11:20,751 basehttp 28149 6203240448 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:11:20,757 basehttp 28149 6237466624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:11:57,421 basehttp 28149 6237466624 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:12:25,475 basehttp 28149 6237466624 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:12:34,474 basehttp 28149 6237466624 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:15:18,241 autoreload 28149 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/serializers.py changed, reloading.
INFO 2025-09-05 23:15:18,702 autoreload 29468 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:15:42,128 basehttp 29468 6136229888 - Broken pipe from ('127.0.0.1', 63698)
INFO 2025-09-05 23:15:42,452 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:15:42,458 basehttp 29468 6136229888 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:15:42,464 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:15:42,473 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:07,680 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:07,684 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:07,694 basehttp 29468 6136229888 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:07,699 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:08,757 basehttp 29468 6136229888 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:08,759 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:08,771 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:08,774 basehttp 29468 6136229888 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:09,534 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:09,540 basehttp 29468 6136229888 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:09,558 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:09,562 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:17,022 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:17,034 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:17,042 basehttp 29468 6136229888 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:17,051 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:19:29,039 basehttp 29468 6153056256 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:19:31,005 basehttp 29468 6136229888 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:19:31,010 basehttp 29468 6153056256 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:19:31,031 basehttp 29468 6136229888 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:19:31,036 basehttp 29468 6169882624 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:19:37,358 basehttp 29468 6169882624 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:19:37,359 basehttp 29468 6136229888 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:19:37,369 basehttp 29468 6153056256 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:19:37,374 basehttp 29468 6186708992 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:19:40,849 basehttp 29468 6186708992 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:19:42,662 basehttp 29468 6186708992 - Broken pipe from ('127.0.0.1', 65093)
INFO 2025-09-05 23:19:42,986 basehttp 29468 6136229888 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:19:42,990 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:19:43,001 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:19:43,007 basehttp 29468 6136229888 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:19:50,578 basehttp 29468 6136229888 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:19:52,632 basehttp 29468 6136229888 - Broken pipe from ('127.0.0.1', 63712)
INFO 2025-09-05 23:19:52,976 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:19:52,995 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:19:53,012 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:19:53,034 basehttp 29468 6135656448 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:08,513 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:08,535 basehttp 29468 6135656448 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:08,571 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:08,588 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:10,342 basehttp 29468 6153056256 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:20:18,420 basehttp 29468 6153056256 - Broken pipe from ('127.0.0.1', 63713)
INFO 2025-09-05 23:20:18,697 basehttp 29468 6135656448 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:18,701 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:18,727 basehttp 29468 6135656448 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:18,731 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:20,096 basehttp 29468 6153056256 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:20:24,490 basehttp 29468 6153056256 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:20:40,440 basehttp 29468 6153056256 - Broken pipe from ('127.0.0.1', 65406)
INFO 2025-09-05 23:20:40,576 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:40,580 basehttp 29468 6135656448 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:40,597 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:40,599 basehttp 29468 6186708992 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:43,623 basehttp 29468 6186708992 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:21:05,972 autoreload 29468 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/serializers.py changed, reloading.
INFO 2025-09-05 23:21:06,423 autoreload 30852 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:21:59,754 autoreload 30852 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:22:00,133 autoreload 31062 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:22:18,819 autoreload 31062 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:22:19,125 autoreload 31148 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:22:29,545 autoreload 31148 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:22:29,994 autoreload 31198 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:22:36,341 autoreload 31198 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:22:36,741 autoreload 31238 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:22:46,106 autoreload 31238 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:22:46,485 autoreload 31280 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:22:53,906 autoreload 31280 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/views.py changed, reloading.
INFO 2025-09-05 23:22:54,203 autoreload 31324 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:23:18,974 basehttp 31324 6144258048 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:18,985 basehttp 31324 6127431680 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:23:18,992 basehttp 31324 6161657856 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:19,002 basehttp 31324 6144258048 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:23:20,041 basehttp 31324 6178484224 "OPTIONS /api/files/stats/ HTTP/1.1" 200 0
INFO 2025-09-05 23:23:20,052 basehttp 31324 6127431680 "OPTIONS /api/files/ HTTP/1.1" 200 0
INFO 2025-09-05 23:23:20,053 basehttp 31324 6144258048 "OPTIONS /api/files/ HTTP/1.1" 200 0
INFO 2025-09-05 23:23:20,064 basehttp 31324 6161657856 "OPTIONS /api/files/stats/ HTTP/1.1" 200 0
INFO 2025-09-05 23:23:20,086 services 31324 6178484224 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:23:20,121 basehttp 31324 6144258048 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:20,137 basehttp 31324 6178484224 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:23:20,156 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:23:20,158 basehttp 31324 6161657856 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:20,173 basehttp 31324 6144258048 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:23:32,568 basehttp 31324 6144258048 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:23:32,572 basehttp 31324 6161657856 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:23:32,591 basehttp 31324 6127431680 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:23:32,596 basehttp 31324 6178484224 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:23:33,901 services 31324 6127431680 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:23:33,906 basehttp 31324 6178484224 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:33,918 basehttp 31324 6127431680 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:23:33,921 basehttp 31324 6161657856 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:33,924 services 31324 6178484224 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:23:33,931 basehttp 31324 6178484224 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:23:42,768 basehttp 31324 6161657856 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:42,776 basehttp 31324 6178484224 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:23:42,785 basehttp 31324 6127431680 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:42,792 basehttp 31324 6161657856 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:26:39,369 basehttp 31324 6127431680 "POST /api/chat/conversations/ HTTP/1.1" 201 325
INFO 2025-09-05 23:26:39,380 basehttp 31324 6144258048 "OPTIONS /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 0
INFO 2025-09-05 23:26:39,393 basehttp 31324 6127431680 "GET /api/chat/conversations/ HTTP/1.1" 200 868
INFO 2025-09-05 23:26:39,393 basehttp 31324 6144258048 "GET /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 2
INFO 2025-09-05 23:26:39,418 views 31324 6144258048 ChatStreamView POST called by user: bro.ralfgrugo45671 (bro bro)
INFO 2025-09-05 23:26:39,419 views 31324 6144258048 Request data: {'message': 'hi bro', 'conversation_id': 'e89e60a0-2351-483b-aed8-4ac1ef18cdd7', 'user_info': {'email': 'ralfgrugo4567@gmail.com'}}
INFO 2025-09-05 23:26:39,422 views 31324 6144258048 Serializer validated data: OrderedDict({'message': 'hi bro', 'conversation_id': UUID('e89e60a0-2351-483b-aed8-4ac1ef18cdd7'), 'user_info': {'email': 'ralfgrugo4567@gmail.com'}})
INFO 2025-09-05 23:26:39,422 views 31324 6144258048 Starting generate_stream function
INFO 2025-09-05 23:26:39,422 views 31324 6144258048 About to call process_chat_message_stream
ERROR 2025-09-05 23:26:39,437 services 31324 6144258048 ASK DATA ==========================: {'question': [{'message_type': 'user', 'content': 'hi bro'}], 'user_info': {'id': 1, 'company_name': '', 'owner_name': '', 'state': '', 'city': '', 'year_started': 2000, 'trucks_count': 5, 'monthly_revenue': '0-250k', 'gross_profit_margin': '50.00', 'main_services': ['Junk Removal (Residential)', 'Bin Rental', 'Light Demolition', 'Junk Removal (Commercial)', 'Trailer Rental', 'Recycling Services'], 'pricing_model': 'by_weight', 'software_tools': ['CRM Software', 'GPS Tracking', 'Route Optimization', 'Inventory Management', 'Booking System', 'Accounting Software', 'Customer Management', 'Mobile Apps'], 'current_challenges': 'How to retain employees?'}}
ERROR 2025-09-05 23:26:40,024 services 31324 6144258048 RAG API streaming request failed: 422 Client Error: Unprocessable Entity for url: https://farmonrag.omadligrouphq.com/ask-question/
INFO 2025-09-05 23:26:40,027 views 31324 6144258048 Stream completed with 1 chunks
INFO 2025-09-05 23:26:40,027 basehttp 31324 6144258048 "POST /api/chat/stream/ HTTP/1.1" 200 508
INFO 2025-09-05 23:28:07,428 basehttp 31324 6144258048 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:28:07,433 basehttp 31324 6127431680 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:28:07,439 basehttp 31324 6161084416 "GET /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 1037
INFO 2025-09-05 23:28:07,465 basehttp 31324 6178484224 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:28:07,483 basehttp 31324 6144258048 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:28:13,565 basehttp 31324 6144258048 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:28:13,566 basehttp 31324 6178484224 "GET /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 1037
INFO 2025-09-05 23:28:13,594 basehttp 31324 6161084416 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:28:14,378 basehttp 31324 6161084416 "GET /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 1037
INFO 2025-09-05 23:28:14,378 basehttp 31324 6178484224 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:28:14,390 basehttp 31324 6144258048 "GET /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 1037
INFO 2025-09-05 23:28:15,775 services 31324 6178484224 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:15,789 basehttp 31324 6144258048 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:28:15,810 basehttp 31324 6178484224 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:28:15,818 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:15,819 basehttp 31324 6161084416 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:28:15,855 basehttp 31324 6144258048 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:28:21,720 basehttp 31324 6144258048 "OPTIONS /api/files/upload/ HTTP/1.1" 200 0
INFO 2025-09-05 23:28:21,736 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:21,745 services 31324 6144258048 Successfully uploaded file: 1453822_Country Acres - BMP Inspection Report 2022 9-04-25_9b10c512.pdf
INFO 2025-09-05 23:28:21,747 services 31324 6144258048 File uploaded successfully: 7eb5efa0-8db1-4829-b2ab-7ebf8a494ede
INFO 2025-09-05 23:28:21,759 basehttp 31324 6144258048 "POST /api/files/upload/ HTTP/1.1" 201 908
INFO 2025-09-05 23:28:21,783 basehttp 31324 6144258048 "GET /api/files/ HTTP/1.1" 200 862
INFO 2025-09-05 23:28:21,793 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:21,801 basehttp 31324 6144258048 "GET /api/files/stats/ HTTP/1.1" 200 388
INFO 2025-09-05 23:28:55,309 services 31324 6161084416 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:55,332 basehttp 31324 6144258048 "GET /api/files/ HTTP/1.1" 200 862
INFO 2025-09-05 23:28:55,344 basehttp 31324 6161084416 "GET /api/files/stats/ HTTP/1.1" 200 388
INFO 2025-09-05 23:28:55,360 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:55,361 basehttp 31324 6178484224 "GET /api/files/ HTTP/1.1" 200 862
INFO 2025-09-05 23:28:55,370 basehttp 31324 6144258048 "GET /api/files/stats/ HTTP/1.1" 200 388
INFO 2025-09-05 23:28:57,025 basehttp 31324 6144258048 "OPTIONS /api/files/7eb5efa0-8db1-4829-b2ab-7ebf8a494ede/ HTTP/1.1" 200 0
INFO 2025-09-05 23:28:57,038 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:57,041 basehttp 31324 6144258048 "DELETE /api/files/7eb5efa0-8db1-4829-b2ab-7ebf8a494ede/ HTTP/1.1" 204 0
INFO 2025-09-05 23:28:57,059 basehttp 31324 6144258048 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:28:57,067 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:57,077 basehttp 31324 6144258048 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:33:22,673 autoreload 31324 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:33:23,319 autoreload 33733 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:33:34,804 autoreload 33733 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:33:35,151 autoreload 33789 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:01,963 autoreload 33789 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:34:02,294 autoreload 33906 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:09,827 autoreload 33906 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:34:10,288 autoreload 33948 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:23,803 autoreload 33948 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/files/views.py changed, reloading.
INFO 2025-09-05 23:34:24,181 autoreload 34019 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:34,745 autoreload 34019 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/files/views.py changed, reloading.
INFO 2025-09-05 23:34:35,066 autoreload 34071 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:38,409 basehttp 34071 6220115968 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:38,420 basehttp 34071 6203289600 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:34:38,425 basehttp 34071 6220115968 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:38,435 basehttp 34071 6236942336 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:34:41,157 basehttp 34071 6220115968 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:41,174 basehttp 34071 6236942336 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:34:41,194 basehttp 34071 6203289600 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:41,210 basehttp 34071 6220115968 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:34:43,712 services 34071 6203289600 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:34:43,716 basehttp 34071 6220115968 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:43,737 basehttp 34071 6203289600 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:34:43,743 basehttp 34071 6236942336 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:43,749 services 34071 6220115968 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:34:43,766 basehttp 34071 6220115968 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:34:45,285 basehttp 34071 6236942336 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:34:45,287 basehttp 34071 6220115968 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:34:45,386 basehttp 34071 6253768704 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:34:45,392 basehttp 34071 6203289600 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:34:49,688 autoreload 34071 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:34:50,129 autoreload 34142 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:57,509 autoreload 34142 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:34:57,842 autoreload 34187 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:35:49,026 services 34187 6145454080 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:35:49,040 basehttp 34187 6128627712 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:35:49,051 basehttp 34187 6145454080 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:35:49,061 services 34187 6162853888 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:35:49,063 basehttp 34187 6128627712 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:35:49,079 basehttp 34187 6162853888 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:36:02,602 services 34187 6162853888 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:36:02,613 services 34187 6162853888 Successfully uploaded file: Atomic habits  PDFDrive_d1012e39.pdf
INFO 2025-09-05 23:36:02,617 services 34187 6162853888 File uploaded successfully: 3cb3c360-6e49-4182-bdc2-713a73d5f8be
ERROR 2025-09-05 23:36:02,637 log 34187 6162853888 Internal Server Error: /api/files/upload/
Traceback (most recent call last):
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/bro/PROJECTS/farmon/farmon-be/apps/files/views.py", line 50, in post
    rag_result = ai_service.upload_file_to_rag(file_obj, request.user.email)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AIService' object has no attribute 'upload_file_to_rag'
ERROR 2025-09-05 23:36:02,639 basehttp 34187 6162853888 "POST /api/files/upload/ HTTP/1.1" 500 111001
INFO 2025-09-05 23:37:32,622 autoreload 34187 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:37:33,019 autoreload 34795 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:37:43,384 autoreload 34795 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:37:43,820 autoreload 34844 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:37:56,241 autoreload 34844 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:37:56,575 autoreload 34903 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:38:26,071 services 34903 6142078976 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:26,074 basehttp 34903 6175731712 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:38:26,083 basehttp 34903 6158905344 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:38:26,099 basehttp 34903 6125252608 "GET /api/files/ HTTP/1.1" 200 796
INFO 2025-09-05 23:38:26,120 basehttp 34903 6175731712 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:38:26,143 basehttp 34903 6142078976 "GET /api/files/stats/ HTTP/1.1" 200 354
INFO 2025-09-05 23:38:26,161 basehttp 34903 6193131520 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:38:26,166 services 34903 6175731712 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:26,174 basehttp 34903 6125252608 "GET /api/files/ HTTP/1.1" 200 796
INFO 2025-09-05 23:38:26,182 basehttp 34903 6175731712 "GET /api/files/stats/ HTTP/1.1" 200 354
INFO 2025-09-05 23:38:29,092 basehttp 34903 6175731712 "OPTIONS /api/files/3cb3c360-6e49-4182-bdc2-713a73d5f8be/ HTTP/1.1" 200 0
INFO 2025-09-05 23:38:29,114 services 34903 6175731712 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:29,117 basehttp 34903 6175731712 "DELETE /api/files/3cb3c360-6e49-4182-bdc2-713a73d5f8be/ HTTP/1.1" 204 0
INFO 2025-09-05 23:38:29,133 basehttp 34903 6175731712 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:38:29,143 services 34903 6175731712 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:29,150 basehttp 34903 6175731712 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:38:37,903 services 34903 6175731712 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:37,909 services 34903 6175731712 Successfully uploaded file: Bolt Accelerator AI Agent Proposal_dc2cb5c2_b3e35084.pdf
INFO 2025-09-05 23:38:37,910 services 34903 6175731712 File uploaded successfully: 211fd246-22f0-40d7-8587-5c1ebca6fe03
ERROR 2025-09-05 23:38:42,066 services 34903 6175731712 RAG upload failed with status 500: {"detail":"(psycopg2.OperationalError) SSL connection has been closed unexpectedly\n\n[SQL: INSERT INTO pdf_metadata (filename, email, path, source, total_pages, uploaded_at, embedding_dim) VALUES (%(filename)s, %(email)s, %(path)s, %(source)s, %(total_pages)s, %(uploaded_at)s, %(embedding_dim)s) RETURNING pdf_metadata.id]\n[parameters: {'filename': 'Bolt Accelerator AI Agent Proposal_dc2cb5c2.pdf', 'email': 'ralfgrugo4567@gmail.com', 'path': 'https://boltaiagent.blob.core.windows.net/farmonai/a98afa39-8bff-4332-9889-ff2fd0f931a5_Bolt%20Accelerator%20AI%20Agent%20Proposal_dc2cb5c2.pdf?se=2026-09-05T23%3A38%3A41Z&sp=r&sv=2025-07-05&sr=b&sig=M6lbgsxKY2qSGFENbst0CddDoMvP69M0ReONCVC6EXA%3D', 'source': 'pdf', 'total_pages': 1, 'uploaded_at': datetime.datetime(2025, 9, 5, 23, 38, 42, 22393), 'embedding_dim': 384}]\n(Background on this error at: https://sqlalche.me/e/20/e3q8) - Error processing file upload"}
INFO 2025-09-05 23:38:42,072 basehttp 34903 6175731712 "POST /api/files/upload/ HTTP/1.1" 201 1875
INFO 2025-09-05 23:38:42,097 basehttp 34903 6175731712 "GET /api/files/ HTTP/1.1" 200 833
INFO 2025-09-05 23:38:42,110 services 34903 6175731712 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:42,117 basehttp 34903 6175731712 "GET /api/files/stats/ HTTP/1.1" 200 371
INFO 2025-09-05 23:39:07,969 basehttp 34903 6125252608 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:39:07,979 basehttp 34903 6175731712 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:39:07,985 basehttp 34903 6193131520 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:39:07,998 basehttp 34903 6125252608 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:40:08,119 services 34903 6125252608 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:40:08,130 services 34903 6125252608 Successfully uploaded file: Atomic habits  PDFDrive_6ae605a4.pdf
INFO 2025-09-05 23:40:08,134 services 34903 6125252608 File uploaded successfully: bf624090-eb9e-46ed-9e93-63cfe9d16258
ERROR 2025-09-05 23:40:14,085 services 34903 6125252608 RAG upload failed with status 500: {"detail":"(psycopg2.OperationalError) SSL connection has been closed unexpectedly\n\n[SQL: INSERT INTO pdf_metadata (filename, email, path, source, total_pages, uploaded_at, embedding_dim) VALUES (%(filename)s, %(email)s, %(path)s, %(source)s, %(total_pages)s, %(uploaded_at)s, %(embedding_dim)s) RETURNING pdf_metadata.id]\n[parameters: {'filename': 'Atomic habits ( PDFDrive ).pdf', 'email': 'ralfgrugo4567@gmail.com', 'path': 'https://boltaiagent.blob.core.windows.net/farmonai/25401ab7-3d77-4c54-b04a-180a8d66731b_Atomic%20habits%20%28%20PDFDrive%20%29.pdf?se=2026-09-05T23%3A40%3A13Z&sp=r&sv=2025-07-05&sr=b&sig=vfBhEhixb9sX6ZIOh7ffrM7qATsp8ishPgKY1nRF1v4%3D', 'source': 'pdf', 'total_pages': 1, 'uploaded_at': datetime.datetime(2025, 9, 5, 23, 40, 14, 40643), 'embedding_dim': 384}]\n(Background on this error at: https://sqlalche.me/e/20/e3q8) - Error processing file upload"}
INFO 2025-09-05 23:40:14,095 basehttp 34903 6125252608 "POST /api/files/upload/ HTTP/1.1" 201 1858
INFO 2025-09-05 23:40:14,127 services 34903 6125252608 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:40:14,132 services 34903 6125252608 Successfully uploaded file: Atomic habits  PDFDrive_2917d04a.pdf
INFO 2025-09-05 23:40:14,135 services 34903 6125252608 File uploaded successfully: c09991b9-6c0f-42dc-afd4-09d96ee5ca5e
INFO 2025-09-05 23:40:36,997 services 34903 6125252608 File Atomic habits ( PDFDrive ).pdf uploaded to RAG successfully
INFO 2025-09-05 23:40:37,002 basehttp 34903 6125252608 "POST /api/files/upload/ HTTP/1.1" 201 965
INFO 2025-09-05 23:40:37,002 basehttp 34903 6125252608 - Broken pipe from ('127.0.0.1', 55184)
