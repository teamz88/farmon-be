INFO 2025-09-05 22:47:56,772 basehttp 98904 6131478528 "GET /api/auth/magic-link/Lf4IoaaU_L4gY-Y9C2s4bMrYmMlKgSrELkAXDDjHWtE/ HTTP/1.1" 200 495
INFO 2025-09-05 22:47:56,796 basehttp 98904 6131478528 "GET /api/auth/magic-link/Lf4IoaaU_L4gY-Y9C2s4bMrYmMlKgSrELkAXDDjHWtE/ HTTP/1.1" 200 495
INFO 2025-09-05 22:49:00,714 basehttp 98904 6131478528 "OPTIONS /api/auth/login/ HTTP/1.1" 200 0
INFO 2025-09-05 22:49:00,720 serializers 98904 6131478528 Login attempt for: ralfgrugo4567@gmail.com
INFO 2025-09-05 22:49:00,870 serializers 98904 6131478528 Username auth result: False
INFO 2025-09-05 22:49:00,873 serializers 98904 6131478528 Found user by email: bro.ralfgrugo45671, password hash: pbkdf2_sha256$600000$jfPS4QLaMPPuXecU1v4EAB$gvV3nS...
INFO 2025-09-05 22:49:00,991 serializers 98904 6131478528 Email auth result: True
INFO 2025-09-05 22:49:00,991 views 98904 6131478528 User login: bro.ralfgrugo45671, password hash: pbkdf2_sha256$600000$jfPS4QLaMPPuXecU1v4EAB$gvV3nS...
INFO 2025-09-05 22:49:01,011 basehttp 98904 6131478528 "POST /api/auth/login/ HTTP/1.1" 200 1100
INFO 2025-09-05 22:49:01,297 basehttp 98904 6131478528 "OPTIONS /api/chat/conversations/ HTTP/1.1" 200 0
INFO 2025-09-05 22:49:01,301 basehttp 98904 6148304896 "OPTIONS /api/chat/folders/ HTTP/1.1" 200 0
INFO 2025-09-05 22:49:01,302 basehttp 98904 6165131264 "OPTIONS /api/chat/conversations/ HTTP/1.1" 200 0
INFO 2025-09-05 22:49:01,307 basehttp 98904 6181957632 "OPTIONS /api/chat/folders/ HTTP/1.1" 200 0
INFO 2025-09-05 22:49:01,330 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:49:01,342 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:49:01,352 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:49:01,353 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:09,026 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:09,028 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:09,149 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:09,151 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:10,823 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:10,824 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:10,835 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:10,835 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:11,528 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:11,529 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:11,539 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:11,542 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,290 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,293 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,311 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,311 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,960 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,961 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,975 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:12,976 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:13,563 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:13,564 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:13,578 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:13,582 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:27,349 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:27,349 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:27,362 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:27,367 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:29,974 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:29,974 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:29,985 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:29,986 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:36,338 basehttp 98904 6131478528 "OPTIONS /api/auth/profile/ HTTP/1.1" 200 0
INFO 2025-09-05 22:50:36,340 basehttp 98904 6181957632 "OPTIONS /api/auth/client-info/ HTTP/1.1" 200 0
INFO 2025-09-05 22:50:36,345 basehttp 98904 6148304896 "OPTIONS /api/auth/profile/ HTTP/1.1" 200 0
INFO 2025-09-05 22:50:36,347 basehttp 98904 6165131264 "OPTIONS /api/auth/client-info/ HTTP/1.1" 200 0
INFO 2025-09-05 22:50:36,365 basehttp 98904 6131478528 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:50:36,369 basehttp 98904 6181957632 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:50:36,379 basehttp 98904 6165131264 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:50:36,382 basehttp 98904 6131478528 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:50:45,569 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:45,575 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:45,590 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:50:45,591 basehttp 98904 6181957632 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:12,763 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:12,764 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:12,776 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:12,776 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:16,367 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:16,370 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:16,383 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:51:16,385 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:52:38,963 basehttp 98904 6131478528 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:52:38,967 basehttp 98904 6181957632 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:52:38,972 basehttp 98904 6165131264 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:52:38,976 basehttp 98904 6131478528 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:52:55,699 basehttp 98904 6131478528 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:52:55,701 basehttp 98904 6165131264 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:52:55,709 basehttp 98904 6181957632 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:52:55,714 basehttp 98904 6148304896 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:20,484 basehttp 98904 6181957632 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:20,486 basehttp 98904 6148304896 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:20,511 basehttp 98904 6131478528 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:20,511 basehttp 98904 6165131264 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:22,307 basehttp 98904 6165131264 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:22,311 basehttp 98904 6131478528 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:22,319 basehttp 98904 6148304896 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:22,326 basehttp 98904 6165131264 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:23,193 basehttp 98904 6165131264 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:23,199 basehttp 98904 6148304896 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:23,221 basehttp 98904 6131478528 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 22:53:23,223 basehttp 98904 6165131264 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 22:53:44,866 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:53:44,866 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:53:44,881 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:53:44,885 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:34,116 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:34,121 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:34,131 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:34,137 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,005 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,009 basehttp 98904 6131478528 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,028 basehttp 98904 6148304896 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,029 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,787 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,792 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,802 basehttp 98904 6165131264 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:35,802 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:44,712 basehttp 98904 6165131264 "POST /api/chat/conversations/ HTTP/1.1" 201 323
INFO 2025-09-05 22:56:44,718 basehttp 98904 6131478528 "OPTIONS /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 0
INFO 2025-09-05 22:56:44,730 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 325
INFO 2025-09-05 22:56:44,740 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 2
INFO 2025-09-05 22:56:44,746 basehttp 98904 6165131264 "OPTIONS /api/chat/stream/ HTTP/1.1" 200 0
INFO 2025-09-05 22:56:44,762 views 98904 6165131264 ChatStreamView POST called by user: bro.ralfgrugo45671 (bro bro)
INFO 2025-09-05 22:56:44,763 views 98904 6165131264 Request data: {'message': 'test', 'conversation_id': '3d8996b5-771b-42d1-8071-5c00b71a56a8'}
INFO 2025-09-05 22:56:44,767 views 98904 6165131264 Serializer validated data: OrderedDict({'message': 'test', 'conversation_id': UUID('3d8996b5-771b-42d1-8071-5c00b71a56a8')})
INFO 2025-09-05 22:56:44,767 views 98904 6165131264 Starting generate_stream function
INFO 2025-09-05 22:56:44,767 views 98904 6165131264 About to call process_chat_message_stream
ERROR 2025-09-05 22:56:44,789 services 98904 6165131264 ASK DATA ==========================: {'question': [{'message_type': 'user', 'content': 'test'}], 'user_info': {'id': 1, 'company_name': '', 'owner_name': '', 'state': '', 'city': '', 'year_started': 2000, 'trucks_count': 5, 'monthly_revenue': '0-250k', 'gross_profit_margin': '50.00', 'main_services': ['Junk Removal (Residential)', 'Bin Rental', 'Light Demolition', 'Junk Removal (Commercial)', 'Trailer Rental', 'Recycling Services'], 'pricing_model': 'by_weight', 'software_tools': ['CRM Software', 'GPS Tracking', 'Route Optimization', 'Inventory Management', 'Booking System', 'Accounting Software', 'Customer Management', 'Mobile Apps'], 'current_challenges': 'How to retain employees?'}}
ERROR 2025-09-05 22:56:45,499 services 98904 6165131264 RAG API streaming request failed: 422 Client Error: Unprocessable Entity for url: https://farmonrag.omadligrouphq.com/ask-question/
INFO 2025-09-05 22:56:45,505 views 98904 6165131264 Stream completed with 1 chunks
INFO 2025-09-05 22:56:45,506 basehttp 98904 6165131264 "POST /api/chat/stream/ HTTP/1.1" 200 508
INFO 2025-09-05 22:56:50,397 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:07,465 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:16,465 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:17,480 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:18,447 basehttp 98904 6131478528 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:24,029 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:57:24,035 basehttp 98904 6131478528 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 22:57:24,041 basehttp 98904 6165131264 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:24,048 basehttp 98904 6148304896 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:57:24,056 basehttp 98904 6181957632 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 22:57:28,536 basehttp 98904 6181957632 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:29,452 basehttp 98904 6181957632 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:37,044 basehttp 98904 6130905088 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 22:57:37,311 basehttp 98904 6147731456 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:57:37,323 basehttp 98904 6130905088 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 22:57:37,345 basehttp 98904 6147731456 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 22:57:37,353 basehttp 98904 6165131264 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 22:57:41,973 basehttp 98904 6165131264 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:05:26,228 autoreload 98904 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:05:26,712 autoreload 27195 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:05:58,121 basehttp 27195 6128840704 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:05:58,134 basehttp 27195 6128840704 - Broken pipe from ('127.0.0.1', 60429)
INFO 2025-09-05 23:05:58,310 basehttp 27195 6145667072 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:05:58,314 basehttp 27195 6128840704 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:05:58,334 basehttp 27195 6145667072 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:05:58,341 basehttp 27195 6162493440 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:00,944 basehttp 27195 6162493440 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:00,947 basehttp 27195 6145667072 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:00,973 basehttp 27195 6162493440 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:00,974 basehttp 27195 6128840704 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:46,012 basehttp 27195 6162493440 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:46,021 basehttp 27195 6128840704 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:46,030 basehttp 27195 6145667072 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:46,039 basehttp 27195 6162493440 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:47,614 basehttp 27195 6145667072 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:47,617 basehttp 27195 6162493440 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:47,626 basehttp 27195 6128840704 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:06:47,630 basehttp 27195 6145667072 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:06:52,908 basehttp 27195 6145667072 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:07:05,750 basehttp 27195 6145667072 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:07:25,052 basehttp 27195 6145667072 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:07:52,205 basehttp 27195 6145667072 - Broken pipe from ('127.0.0.1', 60450)
INFO 2025-09-05 23:07:52,367 basehttp 27195 6162493440 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:07:52,369 basehttp 27195 6128840704 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:07:52,376 basehttp 27195 6162493440 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:07:52,384 basehttp 27195 6145667072 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:08:45,816 autoreload 27195 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/serializers.py changed, reloading.
INFO 2025-09-05 23:08:46,149 autoreload 27962 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:09:05,782 autoreload 27962 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/views.py changed, reloading.
INFO 2025-09-05 23:09:06,218 autoreload 28076 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:09:23,921 autoreload 28076 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/views.py changed, reloading.
INFO 2025-09-05 23:09:24,426 autoreload 28149 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:09:58,345 basehttp 28149 6220066816 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:09:58,391 basehttp 28149 6203240448 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:09:58,404 basehttp 28149 6237466624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:09:58,413 basehttp 28149 6220066816 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:11:20,736 basehttp 28149 6237466624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:11:20,741 basehttp 28149 6220066816 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:11:20,751 basehttp 28149 6203240448 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:11:20,757 basehttp 28149 6237466624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:11:57,421 basehttp 28149 6237466624 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:12:25,475 basehttp 28149 6237466624 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:12:34,474 basehttp 28149 6237466624 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:15:18,241 autoreload 28149 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/serializers.py changed, reloading.
INFO 2025-09-05 23:15:18,702 autoreload 29468 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:15:42,128 basehttp 29468 6136229888 - Broken pipe from ('127.0.0.1', 63698)
INFO 2025-09-05 23:15:42,452 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:15:42,458 basehttp 29468 6136229888 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:15:42,464 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:15:42,473 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:07,680 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:07,684 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:07,694 basehttp 29468 6136229888 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:07,699 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:08,757 basehttp 29468 6136229888 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:08,759 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:08,771 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:08,774 basehttp 29468 6136229888 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:09,534 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:09,540 basehttp 29468 6136229888 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:09,558 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:09,562 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:17,022 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:17,034 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:18:17,042 basehttp 29468 6136229888 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:18:17,051 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:19:29,039 basehttp 29468 6153056256 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:19:31,005 basehttp 29468 6136229888 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:19:31,010 basehttp 29468 6153056256 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:19:31,031 basehttp 29468 6136229888 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:19:31,036 basehttp 29468 6169882624 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:19:37,358 basehttp 29468 6169882624 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:19:37,359 basehttp 29468 6136229888 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:19:37,369 basehttp 29468 6153056256 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:19:37,374 basehttp 29468 6186708992 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:19:40,849 basehttp 29468 6186708992 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:19:42,662 basehttp 29468 6186708992 - Broken pipe from ('127.0.0.1', 65093)
INFO 2025-09-05 23:19:42,986 basehttp 29468 6136229888 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:19:42,990 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:19:43,001 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:19:43,007 basehttp 29468 6136229888 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:19:50,578 basehttp 29468 6136229888 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:19:52,632 basehttp 29468 6136229888 - Broken pipe from ('127.0.0.1', 63712)
INFO 2025-09-05 23:19:52,976 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:19:52,995 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:19:53,012 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:19:53,034 basehttp 29468 6135656448 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:08,513 basehttp 29468 6153056256 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:08,535 basehttp 29468 6135656448 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:08,571 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:08,588 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:10,342 basehttp 29468 6153056256 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:20:18,420 basehttp 29468 6153056256 - Broken pipe from ('127.0.0.1', 63713)
INFO 2025-09-05 23:20:18,697 basehttp 29468 6135656448 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:18,701 basehttp 29468 6169882624 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:18,727 basehttp 29468 6135656448 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:18,731 basehttp 29468 6153056256 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:20,096 basehttp 29468 6153056256 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:20:24,490 basehttp 29468 6153056256 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:20:40,440 basehttp 29468 6153056256 - Broken pipe from ('127.0.0.1', 65406)
INFO 2025-09-05 23:20:40,576 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:40,580 basehttp 29468 6135656448 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:40,597 basehttp 29468 6169882624 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:20:40,599 basehttp 29468 6186708992 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:20:43,623 basehttp 29468 6186708992 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:21:05,972 autoreload 29468 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/serializers.py changed, reloading.
INFO 2025-09-05 23:21:06,423 autoreload 30852 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:21:59,754 autoreload 30852 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:22:00,133 autoreload 31062 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:22:18,819 autoreload 31062 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:22:19,125 autoreload 31148 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:22:29,545 autoreload 31148 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:22:29,994 autoreload 31198 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:22:36,341 autoreload 31198 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:22:36,741 autoreload 31238 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:22:46,106 autoreload 31238 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:22:46,485 autoreload 31280 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:22:53,906 autoreload 31280 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/views.py changed, reloading.
INFO 2025-09-05 23:22:54,203 autoreload 31324 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:23:18,974 basehttp 31324 6144258048 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:18,985 basehttp 31324 6127431680 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:23:18,992 basehttp 31324 6161657856 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:19,002 basehttp 31324 6144258048 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:23:20,041 basehttp 31324 6178484224 "OPTIONS /api/files/stats/ HTTP/1.1" 200 0
INFO 2025-09-05 23:23:20,052 basehttp 31324 6127431680 "OPTIONS /api/files/ HTTP/1.1" 200 0
INFO 2025-09-05 23:23:20,053 basehttp 31324 6144258048 "OPTIONS /api/files/ HTTP/1.1" 200 0
INFO 2025-09-05 23:23:20,064 basehttp 31324 6161657856 "OPTIONS /api/files/stats/ HTTP/1.1" 200 0
INFO 2025-09-05 23:23:20,086 services 31324 6178484224 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:23:20,121 basehttp 31324 6144258048 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:20,137 basehttp 31324 6178484224 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:23:20,156 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:23:20,158 basehttp 31324 6161657856 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:20,173 basehttp 31324 6144258048 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:23:32,568 basehttp 31324 6144258048 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:23:32,572 basehttp 31324 6161657856 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:23:32,591 basehttp 31324 6127431680 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:23:32,596 basehttp 31324 6178484224 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:23:33,901 services 31324 6127431680 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:23:33,906 basehttp 31324 6178484224 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:33,918 basehttp 31324 6127431680 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:23:33,921 basehttp 31324 6161657856 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:33,924 services 31324 6178484224 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:23:33,931 basehttp 31324 6178484224 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:23:42,768 basehttp 31324 6161657856 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:42,776 basehttp 31324 6178484224 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:23:42,785 basehttp 31324 6127431680 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:23:42,792 basehttp 31324 6161657856 "GET /api/chat/conversations/ HTTP/1.1" 200 542
INFO 2025-09-05 23:26:39,369 basehttp 31324 6127431680 "POST /api/chat/conversations/ HTTP/1.1" 201 325
INFO 2025-09-05 23:26:39,380 basehttp 31324 6144258048 "OPTIONS /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 0
INFO 2025-09-05 23:26:39,393 basehttp 31324 6127431680 "GET /api/chat/conversations/ HTTP/1.1" 200 868
INFO 2025-09-05 23:26:39,393 basehttp 31324 6144258048 "GET /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 2
INFO 2025-09-05 23:26:39,418 views 31324 6144258048 ChatStreamView POST called by user: bro.ralfgrugo45671 (bro bro)
INFO 2025-09-05 23:26:39,419 views 31324 6144258048 Request data: {'message': 'hi bro', 'conversation_id': 'e89e60a0-2351-483b-aed8-4ac1ef18cdd7', 'user_info': {'email': 'ralfgrugo4567@gmail.com'}}
INFO 2025-09-05 23:26:39,422 views 31324 6144258048 Serializer validated data: OrderedDict({'message': 'hi bro', 'conversation_id': UUID('e89e60a0-2351-483b-aed8-4ac1ef18cdd7'), 'user_info': {'email': 'ralfgrugo4567@gmail.com'}})
INFO 2025-09-05 23:26:39,422 views 31324 6144258048 Starting generate_stream function
INFO 2025-09-05 23:26:39,422 views 31324 6144258048 About to call process_chat_message_stream
ERROR 2025-09-05 23:26:39,437 services 31324 6144258048 ASK DATA ==========================: {'question': [{'message_type': 'user', 'content': 'hi bro'}], 'user_info': {'id': 1, 'company_name': '', 'owner_name': '', 'state': '', 'city': '', 'year_started': 2000, 'trucks_count': 5, 'monthly_revenue': '0-250k', 'gross_profit_margin': '50.00', 'main_services': ['Junk Removal (Residential)', 'Bin Rental', 'Light Demolition', 'Junk Removal (Commercial)', 'Trailer Rental', 'Recycling Services'], 'pricing_model': 'by_weight', 'software_tools': ['CRM Software', 'GPS Tracking', 'Route Optimization', 'Inventory Management', 'Booking System', 'Accounting Software', 'Customer Management', 'Mobile Apps'], 'current_challenges': 'How to retain employees?'}}
ERROR 2025-09-05 23:26:40,024 services 31324 6144258048 RAG API streaming request failed: 422 Client Error: Unprocessable Entity for url: https://farmonrag.omadligrouphq.com/ask-question/
INFO 2025-09-05 23:26:40,027 views 31324 6144258048 Stream completed with 1 chunks
INFO 2025-09-05 23:26:40,027 basehttp 31324 6144258048 "POST /api/chat/stream/ HTTP/1.1" 200 508
INFO 2025-09-05 23:28:07,428 basehttp 31324 6144258048 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:28:07,433 basehttp 31324 6127431680 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:28:07,439 basehttp 31324 6161084416 "GET /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 1037
INFO 2025-09-05 23:28:07,465 basehttp 31324 6178484224 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:28:07,483 basehttp 31324 6144258048 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:28:13,565 basehttp 31324 6144258048 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:28:13,566 basehttp 31324 6178484224 "GET /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 1037
INFO 2025-09-05 23:28:13,594 basehttp 31324 6161084416 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:28:14,378 basehttp 31324 6161084416 "GET /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 1037
INFO 2025-09-05 23:28:14,378 basehttp 31324 6178484224 "GET /api/chat/conversations/3d8996b5-771b-42d1-8071-5c00b71a56a8/history/ HTTP/1.1" 200 1035
INFO 2025-09-05 23:28:14,390 basehttp 31324 6144258048 "GET /api/chat/conversations/e89e60a0-2351-483b-aed8-4ac1ef18cdd7/history/ HTTP/1.1" 200 1037
INFO 2025-09-05 23:28:15,775 services 31324 6178484224 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:15,789 basehttp 31324 6144258048 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:28:15,810 basehttp 31324 6178484224 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:28:15,818 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:15,819 basehttp 31324 6161084416 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:28:15,855 basehttp 31324 6144258048 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:28:21,720 basehttp 31324 6144258048 "OPTIONS /api/files/upload/ HTTP/1.1" 200 0
INFO 2025-09-05 23:28:21,736 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:21,745 services 31324 6144258048 Successfully uploaded file: 1453822_Country Acres - BMP Inspection Report 2022 9-04-25_9b10c512.pdf
INFO 2025-09-05 23:28:21,747 services 31324 6144258048 File uploaded successfully: 7eb5efa0-8db1-4829-b2ab-7ebf8a494ede
INFO 2025-09-05 23:28:21,759 basehttp 31324 6144258048 "POST /api/files/upload/ HTTP/1.1" 201 908
INFO 2025-09-05 23:28:21,783 basehttp 31324 6144258048 "GET /api/files/ HTTP/1.1" 200 862
INFO 2025-09-05 23:28:21,793 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:21,801 basehttp 31324 6144258048 "GET /api/files/stats/ HTTP/1.1" 200 388
INFO 2025-09-05 23:28:55,309 services 31324 6161084416 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:55,332 basehttp 31324 6144258048 "GET /api/files/ HTTP/1.1" 200 862
INFO 2025-09-05 23:28:55,344 basehttp 31324 6161084416 "GET /api/files/stats/ HTTP/1.1" 200 388
INFO 2025-09-05 23:28:55,360 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:55,361 basehttp 31324 6178484224 "GET /api/files/ HTTP/1.1" 200 862
INFO 2025-09-05 23:28:55,370 basehttp 31324 6144258048 "GET /api/files/stats/ HTTP/1.1" 200 388
INFO 2025-09-05 23:28:57,025 basehttp 31324 6144258048 "OPTIONS /api/files/7eb5efa0-8db1-4829-b2ab-7ebf8a494ede/ HTTP/1.1" 200 0
INFO 2025-09-05 23:28:57,038 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:57,041 basehttp 31324 6144258048 "DELETE /api/files/7eb5efa0-8db1-4829-b2ab-7ebf8a494ede/ HTTP/1.1" 204 0
INFO 2025-09-05 23:28:57,059 basehttp 31324 6144258048 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:28:57,067 services 31324 6144258048 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:28:57,077 basehttp 31324 6144258048 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:33:22,673 autoreload 31324 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:33:23,319 autoreload 33733 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:33:34,804 autoreload 33733 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:33:35,151 autoreload 33789 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:01,963 autoreload 33789 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:34:02,294 autoreload 33906 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:09,827 autoreload 33906 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:34:10,288 autoreload 33948 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:23,803 autoreload 33948 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/files/views.py changed, reloading.
INFO 2025-09-05 23:34:24,181 autoreload 34019 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:34,745 autoreload 34019 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/files/views.py changed, reloading.
INFO 2025-09-05 23:34:35,066 autoreload 34071 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:38,409 basehttp 34071 6220115968 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:38,420 basehttp 34071 6203289600 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:34:38,425 basehttp 34071 6220115968 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:38,435 basehttp 34071 6236942336 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:34:41,157 basehttp 34071 6220115968 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:41,174 basehttp 34071 6236942336 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:34:41,194 basehttp 34071 6203289600 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:41,210 basehttp 34071 6220115968 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:34:43,712 services 34071 6203289600 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:34:43,716 basehttp 34071 6220115968 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:43,737 basehttp 34071 6203289600 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:34:43,743 basehttp 34071 6236942336 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:34:43,749 services 34071 6220115968 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:34:43,766 basehttp 34071 6220115968 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:34:45,285 basehttp 34071 6236942336 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:34:45,287 basehttp 34071 6220115968 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:34:45,386 basehttp 34071 6253768704 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-05 23:34:45,392 basehttp 34071 6203289600 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-05 23:34:49,688 autoreload 34071 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:34:50,129 autoreload 34142 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:34:57,509 autoreload 34142 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:34:57,842 autoreload 34187 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:35:49,026 services 34187 6145454080 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:35:49,040 basehttp 34187 6128627712 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:35:49,051 basehttp 34187 6145454080 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:35:49,061 services 34187 6162853888 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:35:49,063 basehttp 34187 6128627712 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:35:49,079 basehttp 34187 6162853888 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:36:02,602 services 34187 6162853888 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:36:02,613 services 34187 6162853888 Successfully uploaded file: Atomic habits  PDFDrive_d1012e39.pdf
INFO 2025-09-05 23:36:02,617 services 34187 6162853888 File uploaded successfully: 3cb3c360-6e49-4182-bdc2-713a73d5f8be
ERROR 2025-09-05 23:36:02,637 log 34187 6162853888 Internal Server Error: /api/files/upload/
Traceback (most recent call last):
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 56, in wrapper_view
    return view_func(*args, **kwargs)
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/bro/PROJECTS/farmon/farmon-be/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/Users/bro/PROJECTS/farmon/farmon-be/apps/files/views.py", line 50, in post
    rag_result = ai_service.upload_file_to_rag(file_obj, request.user.email)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'AIService' object has no attribute 'upload_file_to_rag'
ERROR 2025-09-05 23:36:02,639 basehttp 34187 6162853888 "POST /api/files/upload/ HTTP/1.1" 500 111001
INFO 2025-09-05 23:37:32,622 autoreload 34187 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:37:33,019 autoreload 34795 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:37:43,384 autoreload 34795 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:37:43,820 autoreload 34844 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:37:56,241 autoreload 34844 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-05 23:37:56,575 autoreload 34903 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:38:26,071 services 34903 6142078976 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:26,074 basehttp 34903 6175731712 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:38:26,083 basehttp 34903 6158905344 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:38:26,099 basehttp 34903 6125252608 "GET /api/files/ HTTP/1.1" 200 796
INFO 2025-09-05 23:38:26,120 basehttp 34903 6175731712 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:38:26,143 basehttp 34903 6142078976 "GET /api/files/stats/ HTTP/1.1" 200 354
INFO 2025-09-05 23:38:26,161 basehttp 34903 6193131520 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:38:26,166 services 34903 6175731712 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:26,174 basehttp 34903 6125252608 "GET /api/files/ HTTP/1.1" 200 796
INFO 2025-09-05 23:38:26,182 basehttp 34903 6175731712 "GET /api/files/stats/ HTTP/1.1" 200 354
INFO 2025-09-05 23:38:29,092 basehttp 34903 6175731712 "OPTIONS /api/files/3cb3c360-6e49-4182-bdc2-713a73d5f8be/ HTTP/1.1" 200 0
INFO 2025-09-05 23:38:29,114 services 34903 6175731712 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:29,117 basehttp 34903 6175731712 "DELETE /api/files/3cb3c360-6e49-4182-bdc2-713a73d5f8be/ HTTP/1.1" 204 0
INFO 2025-09-05 23:38:29,133 basehttp 34903 6175731712 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-05 23:38:29,143 services 34903 6175731712 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:29,150 basehttp 34903 6175731712 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-05 23:38:37,903 services 34903 6175731712 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:37,909 services 34903 6175731712 Successfully uploaded file: Bolt Accelerator AI Agent Proposal_dc2cb5c2_b3e35084.pdf
INFO 2025-09-05 23:38:37,910 services 34903 6175731712 File uploaded successfully: 211fd246-22f0-40d7-8587-5c1ebca6fe03
ERROR 2025-09-05 23:38:42,066 services 34903 6175731712 RAG upload failed with status 500: {"detail":"(psycopg2.OperationalError) SSL connection has been closed unexpectedly\n\n[SQL: INSERT INTO pdf_metadata (filename, email, path, source, total_pages, uploaded_at, embedding_dim) VALUES (%(filename)s, %(email)s, %(path)s, %(source)s, %(total_pages)s, %(uploaded_at)s, %(embedding_dim)s) RETURNING pdf_metadata.id]\n[parameters: {'filename': 'Bolt Accelerator AI Agent Proposal_dc2cb5c2.pdf', 'email': 'ralfgrugo4567@gmail.com', 'path': 'https://boltaiagent.blob.core.windows.net/farmonai/a98afa39-8bff-4332-9889-ff2fd0f931a5_Bolt%20Accelerator%20AI%20Agent%20Proposal_dc2cb5c2.pdf?se=2026-09-05T23%3A38%3A41Z&sp=r&sv=2025-07-05&sr=b&sig=M6lbgsxKY2qSGFENbst0CddDoMvP69M0ReONCVC6EXA%3D', 'source': 'pdf', 'total_pages': 1, 'uploaded_at': datetime.datetime(2025, 9, 5, 23, 38, 42, 22393), 'embedding_dim': 384}]\n(Background on this error at: https://sqlalche.me/e/20/e3q8) - Error processing file upload"}
INFO 2025-09-05 23:38:42,072 basehttp 34903 6175731712 "POST /api/files/upload/ HTTP/1.1" 201 1875
INFO 2025-09-05 23:38:42,097 basehttp 34903 6175731712 "GET /api/files/ HTTP/1.1" 200 833
INFO 2025-09-05 23:38:42,110 services 34903 6175731712 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:38:42,117 basehttp 34903 6175731712 "GET /api/files/stats/ HTTP/1.1" 200 371
INFO 2025-09-05 23:39:07,969 basehttp 34903 6125252608 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:39:07,979 basehttp 34903 6175731712 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:39:07,985 basehttp 34903 6193131520 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:39:07,998 basehttp 34903 6125252608 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:40:08,119 services 34903 6125252608 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:40:08,130 services 34903 6125252608 Successfully uploaded file: Atomic habits  PDFDrive_6ae605a4.pdf
INFO 2025-09-05 23:40:08,134 services 34903 6125252608 File uploaded successfully: bf624090-eb9e-46ed-9e93-63cfe9d16258
ERROR 2025-09-05 23:40:14,085 services 34903 6125252608 RAG upload failed with status 500: {"detail":"(psycopg2.OperationalError) SSL connection has been closed unexpectedly\n\n[SQL: INSERT INTO pdf_metadata (filename, email, path, source, total_pages, uploaded_at, embedding_dim) VALUES (%(filename)s, %(email)s, %(path)s, %(source)s, %(total_pages)s, %(uploaded_at)s, %(embedding_dim)s) RETURNING pdf_metadata.id]\n[parameters: {'filename': 'Atomic habits ( PDFDrive ).pdf', 'email': 'ralfgrugo4567@gmail.com', 'path': 'https://boltaiagent.blob.core.windows.net/farmonai/25401ab7-3d77-4c54-b04a-180a8d66731b_Atomic%20habits%20%28%20PDFDrive%20%29.pdf?se=2026-09-05T23%3A40%3A13Z&sp=r&sv=2025-07-05&sr=b&sig=vfBhEhixb9sX6ZIOh7ffrM7qATsp8ishPgKY1nRF1v4%3D', 'source': 'pdf', 'total_pages': 1, 'uploaded_at': datetime.datetime(2025, 9, 5, 23, 40, 14, 40643), 'embedding_dim': 384}]\n(Background on this error at: https://sqlalche.me/e/20/e3q8) - Error processing file upload"}
INFO 2025-09-05 23:40:14,095 basehttp 34903 6125252608 "POST /api/files/upload/ HTTP/1.1" 201 1858
INFO 2025-09-05 23:40:14,127 services 34903 6125252608 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:40:14,132 services 34903 6125252608 Successfully uploaded file: Atomic habits  PDFDrive_2917d04a.pdf
INFO 2025-09-05 23:40:14,135 services 34903 6125252608 File uploaded successfully: c09991b9-6c0f-42dc-afd4-09d96ee5ca5e
INFO 2025-09-05 23:40:36,997 services 34903 6125252608 File Atomic habits ( PDFDrive ).pdf uploaded to RAG successfully
INFO 2025-09-05 23:40:37,002 basehttp 34903 6125252608 "POST /api/files/upload/ HTTP/1.1" 201 965
INFO 2025-09-05 23:40:37,002 basehttp 34903 6125252608 - Broken pipe from ('127.0.0.1', 55184)
INFO 2025-09-05 23:42:22,038 services 34903 6193131520 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:42:22,056 services 34903 6193131520 Successfully uploaded file: 100M-Leads-by-Alex-Hormozi_20231222143136_04bc0ee5_4f14d060.pdf
INFO 2025-09-05 23:42:22,060 services 34903 6193131520 File uploaded successfully: 430edfef-dcdb-483a-8e8c-57104f3fba6d
ERROR 2025-09-05 23:42:36,245 services 34903 6193131520 RAG upload failed with status 500: {"detail":"(psycopg2.OperationalError) SSL connection has been closed unexpectedly\n\n[SQL: INSERT INTO pdf_metadata (filename, email, path, source, total_pages, uploaded_at, embedding_dim) VALUES (%(filename)s, %(email)s, %(path)s, %(source)s, %(total_pages)s, %(uploaded_at)s, %(embedding_dim)s) RETURNING pdf_metadata.id]\n[parameters: {'filename': '100M-Leads-by-Alex-Hormozi_20231222143136_04bc0ee5.pdf', 'email': 'ralfgrugo4567@gmail.com', 'path': 'https://boltaiagent.blob.core.windows.net/farmonai/49d5ea08-8b66-43d2-a47e-f78e0d463c35_100M-Leads-by-Alex-Hormozi_20231222143136_04bc0ee5.pdf?se=2026-09-05T23%3A42%3A35Z&sp=r&sv=2025-07-05&sr=b&sig=S1n%2BSAQ18vLjTjimICyOMoasUd6YwhRRyTsMwA9BaTU%3D', 'source': 'pdf', 'total_pages': 1, 'uploaded_at': datetime.datetime(2025, 9, 5, 23, 42, 36, 199125), 'embedding_dim': 384}]\n(Background on this error at: https://sqlalche.me/e/20/e3q8) - Error processing file upload"}
INFO 2025-09-05 23:42:36,256 basehttp 34903 6193131520 "POST /api/files/upload/ HTTP/1.1" 201 1974
INFO 2025-09-05 23:42:36,258 basehttp 34903 6193131520 - Broken pipe from ('127.0.0.1', 55195)
INFO 2025-09-05 23:44:27,368 autoreload 34903 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/files/views.py changed, reloading.
INFO 2025-09-05 23:44:27,725 autoreload 36407 8464575616 Watching for file changes with StatReloader
INFO 2025-09-05 23:46:51,999 basehttp 36407 6208286720 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:46:52,004 basehttp 36407 6191460352 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:46:52,014 basehttp 36407 6208286720 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:46:52,022 basehttp 36407 6225686528 "GET /api/chat/conversations/ HTTP/1.1" 200 1085
INFO 2025-09-05 23:47:32,309 services 36407 6225686528 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:47:32,316 services 36407 6225686528 Successfully uploaded file: Farmon Instant Chat - Omadli Group_c6d31b01.pdf
INFO 2025-09-05 23:47:32,319 services 36407 6225686528 File uploaded successfully: 866fdbeb-1935-4684-b27d-3a97ca73650c
INFO 2025-09-05 23:47:34,454 services 36407 6225686528 File Farmon Instant Chat - Omadli Group.pdf uploaded to RAG successfully
INFO 2025-09-05 23:47:34,455 basehttp 36407 6225686528 "POST /api/files/upload/ HTTP/1.1" 201 993
INFO 2025-09-05 23:47:34,506 services 36407 6225686528 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-05 23:47:34,508 services 36407 6225686528 Successfully uploaded file: Farmon Instant Chat - Omadli Group_c3813d09.pdf
INFO 2025-09-05 23:47:34,509 services 36407 6225686528 File uploaded successfully: d2257601-a239-42e9-82ce-3eb1697f9593
ERROR 2025-09-05 23:47:36,182 services 36407 6225686528 RAG upload failed with status 500: {"detail":"(psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint \"document_chunks_pkey\"\nDETAIL:  Key (id)=(Farmon Instant Chat - Omadli Group.pdf_0) already exists.\n\n[SQL: INSERT INTO document_chunks (id, email, source, text, page_number, uploaded_at, embedding_dim, pdf_metadata_id) VALUES (%(id)s, %(email)s, %(source)s, %(text)s, %(page_number)s, %(uploaded_at)s, %(embedding_dim)s, %(pdf_metadata_id)s)]\n[parameters: {'id': 'Farmon Instant Chat - Omadli Group.pdf_0', 'email': 'ralfgrugo4567@gmail.com', 'source': 'Farmon Instant Chat - Omadli Group.pdf', 'text': 'New Chat New Chat Chat Profile Files CONVERSATIONS New project hi bro Today 0 test Today 0 Hello , Bro! Ready to boost your growth. What can I do fo ... (60 characters truncated) ... Hormozi_20231222143136_04bc0ee5.pdf (18.92 MB) Upload Type your message... 9/6/25, 4:46 AM Farmon Instant Chat - Omadli Group localhost:3000/chat 1/1', 'page_number': 1, 'uploaded_at': datetime.datetime(2025, 9, 5, 23, 47, 36, 56714), 'embedding_dim': 384, 'pdf_metadata_id': None}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj) - Error processing file upload"}
INFO 2025-09-05 23:47:36,184 basehttp 36407 6225686528 "POST /api/files/upload/ HTTP/1.1" 201 2173
INFO 2025-09-05 23:47:36,241 basehttp 36407 6225686528 "POST /api/chat/conversations/ HTTP/1.1" 201 335
INFO 2025-09-05 23:47:36,248 basehttp 36407 6208286720 "OPTIONS /api/chat/conversations/400feb1e-d27b-4f3d-ac8d-cae5684251ad/history/ HTTP/1.1" 200 0
INFO 2025-09-05 23:47:36,278 basehttp 36407 6208286720 "GET /api/chat/conversations/400feb1e-d27b-4f3d-ac8d-cae5684251ad/history/ HTTP/1.1" 200 2
INFO 2025-09-05 23:47:36,281 basehttp 36407 6225686528 "GET /api/chat/conversations/ HTTP/1.1" 200 1421
INFO 2025-09-05 23:47:36,392 views 36407 6225686528 ChatStreamView POST called by user: bro.ralfgrugo45671 (bro bro)
INFO 2025-09-05 23:47:36,392 views 36407 6225686528 Request data: {'message': 'give me greeting', 'conversation_id': '400feb1e-d27b-4f3d-ac8d-cae5684251ad', 'user_info': {'email': 'ralfgrugo4567@gmail.com'}}
INFO 2025-09-05 23:47:36,396 views 36407 6225686528 Serializer validated data: OrderedDict({'message': 'give me greeting', 'conversation_id': UUID('400feb1e-d27b-4f3d-ac8d-cae5684251ad'), 'user_info': {'email': 'ralfgrugo4567@gmail.com'}})
INFO 2025-09-05 23:47:36,396 views 36407 6225686528 Starting generate_stream function
INFO 2025-09-05 23:47:36,396 views 36407 6225686528 About to call process_chat_message_stream
ERROR 2025-09-05 23:47:36,415 services 36407 6225686528 ASK DATA ==========================: {'question': [{'message_type': 'user', 'content': 'give me greeting'}], 'user_info': {'id': 1, 'company_name': '', 'owner_name': '', 'state': '', 'city': '', 'year_started': 2000, 'trucks_count': 5, 'monthly_revenue': '0-250k', 'gross_profit_margin': '50.00', 'main_services': ['Junk Removal (Residential)', 'Bin Rental', 'Light Demolition', 'Junk Removal (Commercial)', 'File Upload', 'Document ProcessingTrailer Rental', 'Recycling Services'], 'pricing_model': 'by_weight', 'software_tools': ['CRM Software', 'GPS Tracking', 'Route Optimization', 'Inventory Management', 'Booking System', 'Accounting Software', 'Customer Management', 'Mobile Apps'], 'current_challenges': 'How to retain employees?'}}
ERROR 2025-09-05 23:47:36,983 services 36407 6225686528 RAG API streaming request failed: 422 Client Error: Unprocessable Entity for url: https://farmonrag.omadligrouphq.com/ask-question/
INFO 2025-09-05 23:47:36,987 views 36407 6225686528 Stream completed with 1 chunks
INFO 2025-09-05 23:47:36,989 basehttp 36407 6225686528 "POST /api/chat/stream/ HTTP/1.1" 200 508
INFO 2025-09-05 23:47:44,370 basehttp 36407 6191460352 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:47:44,375 basehttp 36407 6208286720 "GET /api/chat/conversations/ HTTP/1.1" 200 1638
INFO 2025-09-05 23:47:44,380 basehttp 36407 6225113088 "GET /api/chat/conversations/400feb1e-d27b-4f3d-ac8d-cae5684251ad/history/ HTTP/1.1" 200 1047
INFO 2025-09-05 23:47:44,388 basehttp 36407 6191460352 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:47:44,399 basehttp 36407 6242512896 "GET /api/chat/conversations/ HTTP/1.1" 200 1638
INFO 2025-09-05 23:47:55,829 views 36407 6242512896 ChatStreamView POST called by user: bro.ralfgrugo45671 (bro bro)
INFO 2025-09-05 23:47:55,830 views 36407 6242512896 Request data: {'message': 'hi bro', 'conversation_id': '400feb1e-d27b-4f3d-ac8d-cae5684251ad', 'user_info': {'email': 'ralfgrugo4567@gmail.com'}}
INFO 2025-09-05 23:47:55,833 views 36407 6242512896 Serializer validated data: OrderedDict({'message': 'hi bro', 'conversation_id': UUID('400feb1e-d27b-4f3d-ac8d-cae5684251ad'), 'user_info': {'email': 'ralfgrugo4567@gmail.com'}})
INFO 2025-09-05 23:47:55,834 views 36407 6242512896 Starting generate_stream function
INFO 2025-09-05 23:47:55,834 views 36407 6242512896 About to call process_chat_message_stream
ERROR 2025-09-05 23:47:55,844 services 36407 6242512896 ASK DATA ==========================: {'question': [{'message_type': 'user', 'content': 'hi bro'}, {'message_type': 'assistant', 'content': "I apologize, but I'm having trouble connecting to the knowledge base. Please try again later."}, {'message_type': 'user', 'content': 'give me greeting'}], 'user_info': {'id': 1, 'company_name': '', 'owner_name': '', 'state': '', 'city': '', 'year_started': 2000, 'trucks_count': 5, 'monthly_revenue': '0-250k', 'gross_profit_margin': '50.00', 'main_services': ['Junk Removal (Residential)', 'Bin Rental', 'Light Demolition', 'Junk Removal (Commercial)', 'File Upload', 'Document ProcessingTrailer Rental', 'Recycling Services'], 'pricing_model': 'by_weight', 'software_tools': ['CRM Software', 'GPS Tracking', 'Route Optimization', 'Inventory Management', 'Booking System', 'Accounting Software', 'Customer Management', 'Mobile Apps'], 'current_challenges': 'How to retain employees?'}}
ERROR 2025-09-05 23:47:56,406 services 36407 6242512896 RAG API streaming request failed: 422 Client Error: Unprocessable Entity for url: https://farmonrag.omadligrouphq.com/ask-question/
INFO 2025-09-05 23:47:56,408 views 36407 6242512896 Stream completed with 1 chunks
INFO 2025-09-05 23:47:56,408 basehttp 36407 6242512896 "POST /api/chat/stream/ HTTP/1.1" 200 508
INFO 2025-09-05 23:48:00,700 basehttp 36407 6225113088 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:48:00,706 basehttp 36407 6191460352 "GET /api/chat/conversations/ HTTP/1.1" 200 1638
INFO 2025-09-05 23:48:00,722 basehttp 36407 6225113088 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:48:00,723 basehttp 36407 6208286720 "GET /api/chat/conversations/400feb1e-d27b-4f3d-ac8d-cae5684251ad/history/ HTTP/1.1" 200 2083
INFO 2025-09-05 23:48:00,735 basehttp 36407 6191460352 "GET /api/chat/conversations/ HTTP/1.1" 200 1638
WARNING 2025-09-05 23:59:22,059 log 36407 6190886912 Unauthorized: /api/chat/conversations/400feb1e-d27b-4f3d-ac8d-cae5684251ad/history/
WARNING 2025-09-05 23:59:22,063 basehttp 36407 6190886912 "GET /api/chat/conversations/400feb1e-d27b-4f3d-ac8d-cae5684251ad/history/ HTTP/1.1" 401 172
WARNING 2025-09-05 23:59:22,414 log 36407 6207713280 Unauthorized: /api/chat/folders/
WARNING 2025-09-05 23:59:22,416 log 36407 6190886912 Unauthorized: /api/chat/conversations/
WARNING 2025-09-05 23:59:22,417 basehttp 36407 6190886912 "GET /api/chat/conversations/ HTTP/1.1" 401 172
WARNING 2025-09-05 23:59:22,420 basehttp 36407 6207713280 "GET /api/chat/folders/ HTTP/1.1" 401 172
WARNING 2025-09-05 23:59:22,424 log 36407 6207713280 Unauthorized: /api/chat/conversations/
WARNING 2025-09-05 23:59:22,425 basehttp 36407 6207713280 "GET /api/chat/conversations/ HTTP/1.1" 401 172
WARNING 2025-09-05 23:59:22,428 log 36407 6224539648 Unauthorized: /api/chat/folders/
WARNING 2025-09-05 23:59:22,429 basehttp 36407 6224539648 "GET /api/chat/folders/ HTTP/1.1" 401 172
INFO 2025-09-05 23:59:36,371 serializers 36407 6224539648 Login attempt for: ralfgrugo4567@gmail.com
INFO 2025-09-05 23:59:36,520 serializers 36407 6224539648 Username auth result: False
INFO 2025-09-05 23:59:36,521 serializers 36407 6224539648 Found user by email: bro.ralfgrugo45671, password hash: pbkdf2_sha256$600000$jfPS4QLaMPPuXecU1v4EAB$gvV3nS...
INFO 2025-09-05 23:59:36,627 serializers 36407 6224539648 Email auth result: True
INFO 2025-09-05 23:59:36,627 views 36407 6224539648 User login: bro.ralfgrugo45671, password hash: pbkdf2_sha256$600000$jfPS4QLaMPPuXecU1v4EAB$gvV3nS...
INFO 2025-09-05 23:59:36,638 basehttp 36407 6224539648 "POST /api/auth/login/ HTTP/1.1" 200 1101
INFO 2025-09-05 23:59:36,886 basehttp 36407 6207713280 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:59:36,893 basehttp 36407 6224539648 "GET /api/chat/conversations/ HTTP/1.1" 200 1638
INFO 2025-09-05 23:59:36,902 basehttp 36407 6190886912 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-05 23:59:36,911 basehttp 36407 6207713280 "GET /api/chat/conversations/ HTTP/1.1" 200 1638
INFO 2025-09-06 00:00:20,445 autoreload 39327 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:00:37,574 services 39327 6165852160 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:00:37,580 services 39327 6165852160 Successfully uploaded file: List API Keys - MercurJS documentation_22568da7.pdf
INFO 2025-09-06 00:00:37,582 services 39327 6165852160 File uploaded successfully: 7c34d1d1-2fbf-4d1f-802a-bd10e1c68034
INFO 2025-09-06 00:00:40,872 services 39327 6165852160 File List API Keys - MercurJS documentation.pdf uploaded to RAG successfully
INFO 2025-09-06 00:00:40,873 basehttp 39327 6165852160 "POST /api/files/upload/ HTTP/1.1" 201 1005
INFO 2025-09-06 00:00:40,895 services 39327 6165852160 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:00:40,897 services 39327 6165852160 Successfully uploaded file: List API Keys - MercurJS documentation_4835c2f9.pdf
INFO 2025-09-06 00:00:40,899 services 39327 6165852160 File uploaded successfully: 66ccd947-82e8-4d32-81e9-9436885deaab
ERROR 2025-09-06 00:00:42,926 services 39327 6165852160 RAG upload failed with status 500: {"detail":"(psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint \"document_chunks_pkey\"\nDETAIL:  Key (id)=(List API Keys - MercurJS documentation.pdf_0) already exists.\n\n[SQL: INSERT INTO document_chunks (id, email, source, text, page_number, uploaded_at, embedding_dim, pdf_metadata_id) VALUES (%(id__0)s, %(email__0)s, %(source__0)s, %(text__0)s, %(page_number__0)s, %(uploaded_at__0)s, %(embedding_dim__0)s, %(pdf_metadata_ ... 472 characters truncated ... , %(text__4)s, %(page_number__4)s, %(uploaded_at__4)s, %(embedding_dim__4)s, %(pdf_metadata_id__4)s)]\n[parameters: {'pdf_metadata_id__0': None, 'uploaded_at__0': datetime.datetime(2025, 9, 6, 0, 0, 42, 803229), 'page_number__0': 1, 'source__0': 'List API Keys - MercurJS documentation.pdf', 'embedding_dim__0': 384, 'email__0': 'ralfgrugo4567@gmail.com', 'text__0': 'Try it Admin Api Keys Retrieve a list of API keys. The API keys can be filtered by fields such as id . The API keys can also be sorted or paginated.  ... (684 characters truncated) ... included in the returned data. if a field is prefixed with +  it will be added to the default fields, using -  will remove it from the default fields', 'id__0': 'List API Keys - MercurJS documentation.pdf_0', 'pdf_metadata_id__1': None, 'uploaded_at__1': datetime.datetime(2025, 9, 6, 0, 0, 42, 803378), 'page_number__1': 1, 'source__1': 'List API Keys - MercurJS documentation.pdf', 'embedding_dim__1': 384, 'email__1': 'ralfgrugo4567@gmail.com', 'text__1': \". if a field is prefixed with +  it will be added to the default fields, using -  will remove it from the default fields. without prefix it will repl ... (236 characters truncated) ... , prefix the field name with - . A search term to search the API keys' searchable properties. Filter by an API key's ID. Filter by an API key's title\", 'id__1': 'List API Keys - MercurJS documentation.pdf_1', 'pdf_metadata_id__2': None, 'uploaded_at__2': datetime.datetime(2025, 9, 6, 0, 0, 42, 803403), 'page_number__2': 1, 'source__2': 'List API Keys - MercurJS documentation.pdf', 'embedding_dim__2': 384, 'email__2': 'ralfgrugo4567@gmail.com', 'text__2': '. To change the order to descending, prefix the field name with - . A search term to search the API keys\\' searchable properties. Filter by an API ke ... (708 characters truncated) ...  the API key\\'s update date. Show child attributes Filter by the API key\\'s deletion date. Show child attributes Filter by the API key\\'s revoke date', 'id__2': 'List API Keys - MercurJS documentation.pdf_2', 'pdf_metadata_id__3': None, 'uploaded_at__3': datetime.datetime(2025, 9, 6, 0, 0, 42, 803424), 'page_number__3': 1, 'source__3': 'List API Keys - MercurJS documentation.pdf', 'embedding_dim__3': 384, 'email__3': 'ralfgrugo4567@gmail.com', 'text__3': \". Show child attributes Filter by the API key's update date. Show child attributes Filter by the API key's deletion date. Show child attributes Filte ... (631 characters truncated) ... umber of items returned in the list. The number of items skipped before retrieving the returned items. The total count of items. The list of API keys\", 'id__3': 'List API Keys - MercurJS documentation.pdf_3', 'pdf_metadata_id__4': None, 'uploaded_at__4': datetime.datetime(2025, 9, 6, 0, 0, 42, 803453), 'page_number__4': 1, 'source__4': 'List API Keys - MercurJS documentation.pdf', 'embedding_dim__4': 384, 'email__4': 'ralfgrugo4567@gmail.com', 'text__4': '. Response OK The maximum number of items returned in the list. The number of items skipped before retrieving the returned items. The total count of  ... (332 characters truncated) ... 5 Powered by Mintlify 9/6/25, 4:58 AM List API Keys - MercurJS documentation https://docs.mercurjs.com/api-reference/admin-api-keys/list-api-keys 5/5', 'id__4': 'List API Keys - MercurJS documentation.pdf_4'}]\n(Background on this error at: https://sqlalche.me/e/20/gkpj) - Error processing file upload"}
INFO 2025-09-06 00:00:42,927 basehttp 39327 6165852160 "POST /api/files/upload/ HTTP/1.1" 201 4972
INFO 2025-09-06 00:00:42,942 basehttp 39327 6165852160 "POST /api/chat/conversations/ HTTP/1.1" 201 338
INFO 2025-09-06 00:00:42,951 basehttp 39327 6182678528 "OPTIONS /api/chat/conversations/feba5b2b-f49c-4530-84ec-3023033b3eb7/history/ HTTP/1.1" 200 0
INFO 2025-09-06 00:00:42,959 basehttp 39327 6165852160 "GET /api/chat/conversations/ HTTP/1.1" 200 1977
INFO 2025-09-06 00:00:42,960 basehttp 39327 6182678528 "GET /api/chat/conversations/feba5b2b-f49c-4530-84ec-3023033b3eb7/history/ HTTP/1.1" 200 2
INFO 2025-09-06 00:00:42,983 views 39327 6182678528 ChatStreamView POST called by user: bro.ralfgrugo45671 (bro bro)
INFO 2025-09-06 00:00:42,983 views 39327 6182678528 Request data: {'message': 'give me instruction', 'conversation_id': 'feba5b2b-f49c-4530-84ec-3023033b3eb7', 'user_info': {'email': 'ralfgrugo4567@gmail.com'}}
INFO 2025-09-06 00:00:42,988 views 39327 6182678528 Serializer validated data: OrderedDict({'message': 'give me instruction', 'conversation_id': UUID('feba5b2b-f49c-4530-84ec-3023033b3eb7'), 'user_info': {'email': 'ralfgrugo4567@gmail.com'}})
INFO 2025-09-06 00:00:42,988 views 39327 6182678528 Starting generate_stream function
INFO 2025-09-06 00:00:42,988 views 39327 6182678528 About to call process_chat_message_stream
ERROR 2025-09-06 00:00:43,003 services 39327 6182678528 ASK DATA ==========================: {'question': [{'message_type': 'user', 'content': 'give me instruction'}], 'user_info': {'id': 1, 'company_name': '', 'owner_name': '', 'state': '', 'city': '', 'year_started': 2000, 'trucks_count': 5, 'monthly_revenue': '0-250k', 'gross_profit_margin': '50.00', 'main_services': ['Junk Removal (Residential)', 'Bin Rental', 'Light Demolition', 'Junk Removal (Commercial)', 'File Upload', 'Document ProcessingTrailer Rental', 'Recycling Services'], 'pricing_model': 'by_weight', 'software_tools': ['CRM Software', 'GPS Tracking', 'Route Optimization', 'Inventory Management', 'Booking System', 'Accounting Software', 'Customer Management', 'Mobile Apps'], 'current_challenges': 'How to retain employees?'}}
ERROR 2025-09-06 00:00:43,559 services 39327 6182678528 RAG API streaming request failed: 422 Client Error: Unprocessable Entity for url: https://farmonrag.omadligrouphq.com/ask-question/
INFO 2025-09-06 00:00:43,562 views 39327 6182678528 Stream completed with 1 chunks
INFO 2025-09-06 00:00:43,562 basehttp 39327 6182678528 "POST /api/chat/stream/ HTTP/1.1" 200 508
INFO 2025-09-06 00:00:57,953 basehttp 39327 6165852160 "GET /api/chat/conversations/feba5b2b-f49c-4530-84ec-3023033b3eb7/history/ HTTP/1.1" 200 1050
INFO 2025-09-06 00:01:05,425 basehttp 39327 6165852160 "GET /api/chat/conversations/feba5b2b-f49c-4530-84ec-3023033b3eb7/history/ HTTP/1.1" 200 1050
INFO 2025-09-06 00:01:23,281 basehttp 39327 6165852160 "GET /api/chat/conversations/feba5b2b-f49c-4530-84ec-3023033b3eb7/history/ HTTP/1.1" 200 1050
INFO 2025-09-06 00:02:55,480 autoreload 39327 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:02:55,994 autoreload 40005 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:02:57,237 autoreload 40005 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:02:57,519 autoreload 40024 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:03:01,916 autoreload 40024 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:03:02,200 autoreload 40086 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:03:05,541 autoreload 40086 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:03:05,940 autoreload 40113 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:03:08,074 autoreload 40113 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:03:08,644 autoreload 40129 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:03:18,071 autoreload 40129 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:03:18,438 autoreload 40209 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:03:20,831 autoreload 40209 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:03:21,165 autoreload 40242 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:03:24,295 autoreload 40242 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:03:24,597 autoreload 40267 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:03:26,843 autoreload 40267 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:03:27,098 autoreload 40285 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:03:35,326 basehttp 40285 6216183808 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:03:35,333 basehttp 40285 6233010176 "GET /api/chat/conversations/feba5b2b-f49c-4530-84ec-3023033b3eb7/history/ HTTP/1.1" 200 1050
INFO 2025-09-06 00:03:35,337 basehttp 40285 6199357440 "GET /api/chat/conversations/ HTTP/1.1" 200 2194
INFO 2025-09-06 00:03:35,346 basehttp 40285 6216183808 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:03:35,362 basehttp 40285 6233010176 "GET /api/chat/conversations/ HTTP/1.1" 200 2194
INFO 2025-09-06 00:05:44,143 basehttp 40285 6216183808 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:05:44,159 basehttp 40285 6233010176 "GET /api/chat/conversations/ HTTP/1.1" 200 2194
INFO 2025-09-06 00:05:44,165 basehttp 40285 6199357440 "GET /api/chat/conversations/feba5b2b-f49c-4530-84ec-3023033b3eb7/history/ HTTP/1.1" 200 1050
INFO 2025-09-06 00:05:44,182 basehttp 40285 6216183808 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:05:44,212 basehttp 40285 6250409984 "GET /api/chat/conversations/ HTTP/1.1" 200 2194
INFO 2025-09-06 00:06:14,827 basehttp 40285 6216183808 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:06:14,841 basehttp 40285 6250409984 "GET /api/chat/conversations/ HTTP/1.1" 200 2194
INFO 2025-09-06 00:06:14,842 basehttp 40285 6199357440 "GET /api/chat/conversations/feba5b2b-f49c-4530-84ec-3023033b3eb7/history/ HTTP/1.1" 200 1050
INFO 2025-09-06 00:06:14,849 basehttp 40285 6233010176 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:06:14,859 basehttp 40285 6216183808 "GET /api/chat/conversations/ HTTP/1.1" 200 2194
INFO 2025-09-06 00:06:19,835 basehttp 40285 6216183808 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-06 00:06:19,844 basehttp 40285 6233010176 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-06 00:06:19,854 basehttp 40285 6216183808 "GET /api/auth/profile/ HTTP/1.1" 200 554
INFO 2025-09-06 00:06:19,860 basehttp 40285 6199357440 "GET /api/auth/client-info/ HTTP/1.1" 200 354
INFO 2025-09-06 00:07:14,293 basehttp 40285 6216183808 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:07:14,301 basehttp 40285 6199357440 "GET /api/chat/conversations/ HTTP/1.1" 200 2194
INFO 2025-09-06 00:07:14,309 basehttp 40285 6233010176 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:07:14,336 basehttp 40285 6216183808 "GET /api/chat/conversations/ HTTP/1.1" 200 2194
INFO 2025-09-06 00:07:16,811 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:16,831 basehttp 40285 6233010176 "GET /api/files/stats/ HTTP/1.1" 200 1398
INFO 2025-09-06 00:07:16,837 basehttp 40285 6216183808 "GET /api/files/ HTTP/1.1" 200 6961
INFO 2025-09-06 00:07:16,845 services 40285 6199357440 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:16,858 basehttp 40285 6199357440 "GET /api/files/stats/ HTTP/1.1" 200 1398
INFO 2025-09-06 00:07:16,863 basehttp 40285 6233010176 "GET /api/files/ HTTP/1.1" 200 6961
INFO 2025-09-06 00:07:20,800 basehttp 40285 6233010176 "OPTIONS /api/files/66ccd947-82e8-4d32-81e9-9436885deaab/ HTTP/1.1" 200 0
INFO 2025-09-06 00:07:20,817 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:20,820 basehttp 40285 6233010176 "DELETE /api/files/66ccd947-82e8-4d32-81e9-9436885deaab/ HTTP/1.1" 204 0
INFO 2025-09-06 00:07:20,842 basehttp 40285 6233010176 "GET /api/files/ HTTP/1.1" 200 6076
INFO 2025-09-06 00:07:20,851 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:20,859 basehttp 40285 6233010176 "GET /api/files/stats/ HTTP/1.1" 200 1248
INFO 2025-09-06 00:07:22,282 basehttp 40285 6233010176 "OPTIONS /api/files/7c34d1d1-2fbf-4d1f-802a-bd10e1c68034/ HTTP/1.1" 200 0
INFO 2025-09-06 00:07:22,296 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:22,298 basehttp 40285 6233010176 "DELETE /api/files/7c34d1d1-2fbf-4d1f-802a-bd10e1c68034/ HTTP/1.1" 204 0
INFO 2025-09-06 00:07:22,322 basehttp 40285 6233010176 "GET /api/files/ HTTP/1.1" 200 5191
INFO 2025-09-06 00:07:22,330 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:22,341 basehttp 40285 6233010176 "GET /api/files/stats/ HTTP/1.1" 200 1097
INFO 2025-09-06 00:07:23,632 basehttp 40285 6233010176 "OPTIONS /api/files/d2257601-a239-42e9-82ce-3eb1697f9593/ HTTP/1.1" 200 0
INFO 2025-09-06 00:07:23,643 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:23,645 basehttp 40285 6233010176 "DELETE /api/files/d2257601-a239-42e9-82ce-3eb1697f9593/ HTTP/1.1" 204 0
INFO 2025-09-06 00:07:23,667 basehttp 40285 6233010176 "GET /api/files/ HTTP/1.1" 200 4318
INFO 2025-09-06 00:07:23,676 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:23,683 basehttp 40285 6233010176 "GET /api/files/stats/ HTTP/1.1" 200 952
INFO 2025-09-06 00:07:25,833 basehttp 40285 6233010176 "OPTIONS /api/files/866fdbeb-1935-4684-b27d-3a97ca73650c/ HTTP/1.1" 200 0
INFO 2025-09-06 00:07:25,848 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:25,851 basehttp 40285 6233010176 "DELETE /api/files/866fdbeb-1935-4684-b27d-3a97ca73650c/ HTTP/1.1" 204 0
INFO 2025-09-06 00:07:25,890 basehttp 40285 6233010176 "GET /api/files/ HTTP/1.1" 200 3445
INFO 2025-09-06 00:07:25,900 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:25,911 basehttp 40285 6233010176 "GET /api/files/stats/ HTTP/1.1" 200 806
INFO 2025-09-06 00:07:27,247 basehttp 40285 6233010176 "OPTIONS /api/files/430edfef-dcdb-483a-8e8c-57104f3fba6d/ HTTP/1.1" 200 0
INFO 2025-09-06 00:07:27,259 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:27,260 basehttp 40285 6233010176 "DELETE /api/files/430edfef-dcdb-483a-8e8c-57104f3fba6d/ HTTP/1.1" 204 0
INFO 2025-09-06 00:07:27,286 basehttp 40285 6233010176 "GET /api/files/ HTTP/1.1" 200 2523
INFO 2025-09-06 00:07:27,302 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:27,312 basehttp 40285 6233010176 "GET /api/files/stats/ HTTP/1.1" 200 645
INFO 2025-09-06 00:07:28,688 basehttp 40285 6233010176 "OPTIONS /api/files/c09991b9-6c0f-42dc-afd4-09d96ee5ca5e/ HTTP/1.1" 200 0
INFO 2025-09-06 00:07:28,702 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:28,704 basehttp 40285 6233010176 "DELETE /api/files/c09991b9-6c0f-42dc-afd4-09d96ee5ca5e/ HTTP/1.1" 204 0
INFO 2025-09-06 00:07:28,731 basehttp 40285 6233010176 "GET /api/files/ HTTP/1.1" 200 1678
INFO 2025-09-06 00:07:28,742 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:28,753 basehttp 40285 6233010176 "GET /api/files/stats/ HTTP/1.1" 200 507
INFO 2025-09-06 00:07:30,263 basehttp 40285 6233010176 "OPTIONS /api/files/bf624090-eb9e-46ed-9e93-63cfe9d16258/ HTTP/1.1" 200 0
INFO 2025-09-06 00:07:30,276 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:30,279 basehttp 40285 6233010176 "DELETE /api/files/bf624090-eb9e-46ed-9e93-63cfe9d16258/ HTTP/1.1" 204 0
INFO 2025-09-06 00:07:30,299 basehttp 40285 6233010176 "GET /api/files/ HTTP/1.1" 200 833
INFO 2025-09-06 00:07:30,308 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:30,316 basehttp 40285 6233010176 "GET /api/files/stats/ HTTP/1.1" 200 371
INFO 2025-09-06 00:07:31,656 basehttp 40285 6233010176 "OPTIONS /api/files/211fd246-22f0-40d7-8587-5c1ebca6fe03/ HTTP/1.1" 200 0
INFO 2025-09-06 00:07:31,673 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:31,686 basehttp 40285 6233010176 "DELETE /api/files/211fd246-22f0-40d7-8587-5c1ebca6fe03/ HTTP/1.1" 204 0
INFO 2025-09-06 00:07:31,730 basehttp 40285 6233010176 "GET /api/files/ HTTP/1.1" 200 2
INFO 2025-09-06 00:07:31,774 services 40285 6233010176 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:07:31,793 basehttp 40285 6233010176 "GET /api/files/stats/ HTTP/1.1" 200 174
INFO 2025-09-06 00:07:39,224 basehttp 40285 6199357440 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:07:39,236 basehttp 40285 6233010176 "GET /api/chat/conversations/ HTTP/1.1" 200 2194
INFO 2025-09-06 00:07:39,243 basehttp 40285 6216183808 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:07:39,272 basehttp 40285 6199357440 "GET /api/chat/conversations/ HTTP/1.1" 200 2194
INFO 2025-09-06 00:08:08,534 autoreload 41353 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:08:11,594 services 41353 6170800128 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:08:11,603 services 41353 6170800128 Successfully uploaded file: test_e33f1e50.pdf
INFO 2025-09-06 00:08:11,605 services 41353 6170800128 File uploaded successfully: d27abe99-e57d-4c42-8f4a-e744ad12144d
ERROR 2025-09-06 00:08:15,633 services 41353 6170800128 RAG upload failed with status 500: {"detail":"(psycopg2.OperationalError) SSL connection has been closed unexpectedly\n\n[SQL: INSERT INTO pdf_metadata (filename, email, path, source, total_pages, uploaded_at, embedding_dim) VALUES (%(filename)s, %(email)s, %(path)s, %(source)s, %(total_pages)s, %(uploaded_at)s, %(embedding_dim)s) RETURNING pdf_metadata.id]\n[parameters: {'filename': 'test.pdf', 'email': 'ralfgrugo4567@gmail.com', 'path': 'https://boltaiagent.blob.core.windows.net/farmonai/c6db10ff-a3a5-409a-ae53-83e7045d0a69_test.pdf?se=2026-09-06T00%3A08%3A15Z&sp=r&sv=2025-07-05&sr=b&sig=4uonwdvlg6cGTYJmuOZatK1fG7d9Ed6027CfGGVS9Ys%3D', 'source': 'pdf', 'total_pages': 1, 'uploaded_at': datetime.datetime(2025, 9, 6, 0, 8, 15, 638830), 'embedding_dim': 384}]\n(Background on this error at: https://sqlalche.me/e/20/e3q8) - Error processing file upload"}
INFO 2025-09-06 00:08:15,634 basehttp 41353 6170800128 "POST /api/files/upload/ HTTP/1.1" 201 1738
INFO 2025-09-06 00:08:15,651 services 41353 6170800128 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:08:15,653 services 41353 6170800128 Successfully uploaded file: test_b1cdea27.pdf
INFO 2025-09-06 00:08:15,654 services 41353 6170800128 File uploaded successfully: eb67880b-65c4-49f8-8f99-4dc289a65903
INFO 2025-09-06 00:08:20,129 services 41353 6170800128 File test.pdf uploaded to RAG successfully
INFO 2025-09-06 00:08:20,130 basehttp 41353 6170800128 "POST /api/files/upload/ HTTP/1.1" 201 902
INFO 2025-09-06 00:08:20,150 basehttp 41353 6170800128 "POST /api/chat/conversations/ HTTP/1.1" 201 338
INFO 2025-09-06 00:08:20,158 basehttp 41353 6187626496 "OPTIONS /api/chat/conversations/e6c50d0c-19a0-4eb8-8216-f12ed804167e/history/ HTTP/1.1" 200 0
INFO 2025-09-06 00:08:20,168 basehttp 41353 6170800128 "GET /api/chat/conversations/ HTTP/1.1" 200 2533
INFO 2025-09-06 00:08:20,170 basehttp 41353 6187626496 "GET /api/chat/conversations/e6c50d0c-19a0-4eb8-8216-f12ed804167e/history/ HTTP/1.1" 200 2
INFO 2025-09-06 00:08:20,205 views 41353 6187626496 ChatStreamView POST called by user: bro.ralfgrugo45671 (bro bro)
INFO 2025-09-06 00:08:20,205 views 41353 6187626496 Request data: {'message': 'give me best advice', 'conversation_id': 'e6c50d0c-19a0-4eb8-8216-f12ed804167e', 'user_info': {'email': 'ralfgrugo4567@gmail.com'}}
INFO 2025-09-06 00:08:20,209 views 41353 6187626496 Serializer validated data: OrderedDict({'message': 'give me best advice', 'conversation_id': UUID('e6c50d0c-19a0-4eb8-8216-f12ed804167e'), 'user_info': {'email': 'ralfgrugo4567@gmail.com'}})
INFO 2025-09-06 00:08:20,209 views 41353 6187626496 Starting generate_stream function
INFO 2025-09-06 00:08:20,209 views 41353 6187626496 About to call process_chat_message_stream
ERROR 2025-09-06 00:08:20,218 services 41353 6187626496 ASK DATA ==========================: {'question': [{'message_type': 'user', 'content': 'give me best advice'}], 'user_info': {'id': 1, 'company_name': '', 'owner_name': '', 'state': '', 'city': '', 'year_started': 2000, 'trucks_count': 5, 'monthly_revenue': '0-250k', 'gross_profit_margin': '50.00', 'main_services': ['Junk Removal (Residential)', 'Bin Rental', 'Light Demolition', 'Junk Removal (Commercial)', 'File Upload', 'Document ProcessingTrailer Rental', 'Recycling Services'], 'pricing_model': 'by_weight', 'software_tools': ['CRM Software', 'GPS Tracking', 'Route Optimization', 'Inventory Management', 'Booking System', 'Accounting Software', 'Customer Management', 'Mobile Apps'], 'current_challenges': 'How to retain employees?'}}
ERROR 2025-09-06 00:08:20,778 services 41353 6187626496 RAG API streaming request failed: 422 Client Error: Unprocessable Entity for url: https://farmonrag.omadligrouphq.com/ask-question/
INFO 2025-09-06 00:08:20,780 views 41353 6187626496 Stream completed with 1 chunks
INFO 2025-09-06 00:08:20,780 basehttp 41353 6187626496 "POST /api/chat/stream/ HTTP/1.1" 200 508
INFO 2025-09-06 00:09:03,050 autoreload 41353 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:09:03,460 autoreload 41570 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:09:04,596 autoreload 41570 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:09:04,818 autoreload 41579 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:09:06,035 autoreload 41579 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:09:06,258 autoreload 41587 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:09:07,469 autoreload 41587 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:09:07,768 autoreload 41598 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:09:09,014 autoreload 41598 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:09:09,314 autoreload 41612 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:09:13,462 autoreload 41612 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:09:13,687 autoreload 41645 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:09:18,010 autoreload 41645 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:09:18,242 autoreload 41685 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:09:22,374 autoreload 41685 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:09:22,665 autoreload 41719 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:09:25,881 autoreload 41719 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:09:26,144 autoreload 41747 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:09:30,437 autoreload 41747 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:09:30,687 autoreload 41790 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:09:33,813 autoreload 41790 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:09:34,071 autoreload 41814 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:10:07,921 autoreload 41814 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:10:08,280 autoreload 41938 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:11:32,217 autoreload 41938 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:11:32,619 autoreload 42239 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:11:33,858 autoreload 42239 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:11:34,090 autoreload 42248 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:11:41,092 autoreload 42290 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:11:44,324 basehttp 42290 6146142208 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:11:44,335 basehttp 42290 6162968576 "GET /api/chat/conversations/e6c50d0c-19a0-4eb8-8216-f12ed804167e/history/ HTTP/1.1" 200 1050
INFO 2025-09-06 00:11:44,340 basehttp 42290 6129315840 "GET /api/chat/conversations/ HTTP/1.1" 200 2750
INFO 2025-09-06 00:11:44,345 basehttp 42290 6146142208 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:11:44,370 basehttp 42290 6162968576 "GET /api/chat/conversations/ HTTP/1.1" 200 2750
INFO 2025-09-06 00:12:02,062 services 42290 6162968576 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:12:02,073 services 42290 6162968576 Successfully uploaded file: test2_15637107.pdf
INFO 2025-09-06 00:12:02,076 services 42290 6162968576 File uploaded successfully: 3be03910-755e-4776-989f-b40355c95c0d
INFO 2025-09-06 00:12:08,640 services 42290 6162968576 File test2.pdf uploaded to RAG successfully
INFO 2025-09-06 00:12:08,641 basehttp 42290 6162968576 "POST /api/files/upload/ HTTP/1.1" 201 905
INFO 2025-09-06 00:12:08,655 views 42290 6162968576 ChatStreamView POST called by user: bro.ralfgrugo45671 (bro bro)
INFO 2025-09-06 00:12:08,655 views 42290 6162968576 Request data: {'message': 'give me best advice', 'conversation_id': 'e6c50d0c-19a0-4eb8-8216-f12ed804167e', 'user_info': {'email': 'ralfgrugo4567@gmail.com'}}
INFO 2025-09-06 00:12:08,656 views 42290 6162968576 Serializer validated data: OrderedDict({'message': 'give me best advice', 'conversation_id': UUID('e6c50d0c-19a0-4eb8-8216-f12ed804167e'), 'user_info': {'email': 'ralfgrugo4567@gmail.com'}})
INFO 2025-09-06 00:12:08,657 views 42290 6162968576 Starting generate_stream function
INFO 2025-09-06 00:12:08,657 views 42290 6162968576 About to call process_chat_message_stream
ERROR 2025-09-06 00:12:08,663 services 42290 6162968576 ASK DATA ==========================: {'question': [{'message_type': 'user', 'content': 'give me best advice'}, {'message_type': 'assistant', 'content': "I apologize, but I'm having trouble connecting to the knowledge base. Please try again later."}, {'message_type': 'user', 'content': 'give me best advice'}], 'user_info': {'id': 1, 'company_name': '', 'owner_name': '', 'state': '', 'city': '', 'year_started': 2000, 'trucks_count': 5, 'monthly_revenue': '0-250k', 'gross_profit_margin': '50.00', 'main_services': ['Junk Removal (Residential)', 'Bin Rental', 'Light Demolition', 'Junk Removal (Commercial)', 'File Upload', 'Document ProcessingTrailer Rental', 'Recycling Services'], 'pricing_model': 'by_weight', 'software_tools': ['CRM Software', 'GPS Tracking', 'Route Optimization', 'Inventory Management', 'Booking System', 'Accounting Software', 'Customer Management', 'Mobile Apps'], 'current_challenges': 'How to retain employees?'}}
ERROR 2025-09-06 00:12:09,223 services 42290 6162968576 RAG API streaming request failed: 422 Client Error: Unprocessable Entity for url: https://farmonrag.omadligrouphq.com/ask-question/
INFO 2025-09-06 00:12:09,226 views 42290 6162968576 Stream completed with 1 chunks
INFO 2025-09-06 00:12:09,226 basehttp 42290 6162968576 "POST /api/chat/stream/ HTTP/1.1" 200 508
INFO 2025-09-06 00:13:05,084 autoreload 42290 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:13:05,466 autoreload 42644 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:13:08,740 autoreload 42644 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:13:08,978 autoreload 42666 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:13:25,471 autoreload 42666 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:13:25,934 autoreload 42746 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:13:27,174 autoreload 42746 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:13:27,391 autoreload 42754 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:13:29,612 autoreload 42754 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:13:29,889 autoreload 42770 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:13:33,106 autoreload 42770 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:13:33,355 autoreload 42795 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:13:34,584 autoreload 42795 8464575616 /Users/bro/PROJECTS/farmon/farmon-be/apps/chat/services.py changed, reloading.
INFO 2025-09-06 00:13:34,826 autoreload 42806 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:13:49,878 autoreload 42873 8464575616 Watching for file changes with StatReloader
INFO 2025-09-06 00:13:53,477 basehttp 42873 6222770176 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:13:53,494 basehttp 42873 6205943808 "GET /api/chat/conversations/ HTTP/1.1" 200 2750
INFO 2025-09-06 00:13:53,497 basehttp 42873 6239596544 "GET /api/chat/conversations/e6c50d0c-19a0-4eb8-8216-f12ed804167e/history/ HTTP/1.1" 200 2099
INFO 2025-09-06 00:13:53,508 basehttp 42873 6222770176 "GET /api/chat/folders/ HTTP/1.1" 200 2
INFO 2025-09-06 00:13:53,561 basehttp 42873 6256422912 "GET /api/chat/conversations/ HTTP/1.1" 200 2750
INFO 2025-09-06 00:14:21,742 services 42873 6256422912 Storage directory ready: /Users/bro/PROJECTS/farmon/farmon-be/media/uploads
INFO 2025-09-06 00:14:21,761 services 42873 6256422912 Successfully uploaded file: Account Setting _ TRAE - Collaborate with Intelligence_4b290815.pdf
INFO 2025-09-06 00:14:21,766 services 42873 6256422912 File uploaded successfully: 7bfa08f4-e90a-46ad-b69c-365a51dcf376
ERROR 2025-09-06 00:14:23,029 services 42873 6256422912 RAG upload failed with status 500: {"detail":"(psycopg2.OperationalError) SSL connection has been closed unexpectedly\n\n[SQL: INSERT INTO pdf_metadata (filename, email, path, source, total_pages, uploaded_at, embedding_dim) VALUES (%(filename)s, %(email)s, %(path)s, %(source)s, %(total_pages)s, %(uploaded_at)s, %(embedding_dim)s) RETURNING pdf_metadata.id]\n[parameters: {'filename': 'Account Setting _ TRAE - Collaborate with Intelligence.pdf', 'email': 'ralfgrugo4567@gmail.com', 'path': 'https://boltaiagent.blob.core.windows.net/farmonai/2e41888f-dbe2-4feb-99cc-1260eeb6ab86_Account%20Setting%20_%20TRAE%20-%20Collaborate%20with%20Intelligence.pdf?se=2026-09-06T00%3A14%3A23Z&sp=r&sv=2025-07-05&sr=b&sig=ALjrli8taCA8xJDxKLA5GVyg0BnNZchPOAJhjKeadQA%3D', 'source': 'pdf', 'total_pages': 1, 'uploaded_at': datetime.datetime(2025, 9, 6, 0, 14, 23, 33610), 'embedding_dim': 384}]\n(Background on this error at: https://sqlalche.me/e/20/e3q8) - Error processing file upload"}
INFO 2025-09-06 00:14:23,029 basehttp 42873 6256422912 "POST /api/files/upload/ HTTP/1.1" 201 2003
INFO 2025-09-06 00:14:23,050 views 42873 6256422912 ChatStreamView POST called by user: bro.ralfgrugo45671 (bro bro)
INFO 2025-09-06 00:14:23,051 views 42873 6256422912 Request data: {'message': 'give me best advice', 'conversation_id': 'e6c50d0c-19a0-4eb8-8216-f12ed804167e', 'user_info': {'email': 'ralfgrugo4567@gmail.com'}}
INFO 2025-09-06 00:14:23,055 views 42873 6256422912 Serializer validated data: OrderedDict({'message': 'give me best advice', 'conversation_id': UUID('e6c50d0c-19a0-4eb8-8216-f12ed804167e'), 'user_info': {'email': 'ralfgrugo4567@gmail.com'}})
INFO 2025-09-06 00:14:23,056 views 42873 6256422912 Starting generate_stream function
INFO 2025-09-06 00:14:23,056 views 42873 6256422912 About to call process_chat_message_stream
ERROR 2025-09-06 00:14:23,073 services 42873 6256422912 ASK DATA 2 ==========================: {'question': [{'message_type': 'user', 'content': 'give me best advice'}, {'message_type': 'assistant', 'content': "I apologize, but I'm having trouble connecting to the knowledge base. Please try again later."}, {'message_type': 'user', 'content': 'give me best advice'}, {'message_type': 'assistant', 'content': "I apologize, but I'm having trouble connecting to the knowledge base. Please try again later."}, {'message_type': 'user', 'content': 'give me best advice'}], 'user_info': {'email': 'ralfgrugo4567@gmail.com'}}
INFO 2025-09-06 00:14:33,440 services 42873 6256422912 Source document: Sources: Atomic habits ( PDFDrive ).pdf 
INFO 2025-09-06 00:14:33,440 services 42873 6256422912 Extracted document list: ['Atomic habits ( PDFDrive ).pdf']
INFO 2025-09-06 00:14:33,440 services 42873 6256422912 Finished processing 1082 lines
INFO 2025-09-06 00:14:33,448 views 42873 6256422912 Stream completed with 542 chunks
INFO 2025-09-06 00:14:33,449 basehttp 42873 6256422912 "POST /api/chat/stream/ HTTP/1.1" 200 171658
